/* @created: Thu Dec 19 15:01:17 UTC+0800 2013*/
_$JSDK3Loader$_&&_$JSDK3Loader$_.loadResource({
manifest : {"name" : "core","file" : "core.js","version" : "1.0","description" : "","author" : "liu denggao","created" : "2013.12.9","modified" : "2013.12.18"},
entity : {
"jsre.js" : "(function(oHost,oParentHost,oEnviron){this._loader=oEnviron.loader||arguments.callee.caller;this._parent=null;this._external=oHost;this._app=null;this._name=\"JSDK\";this._version=\"V2.3.0.20131218\";this._deviceNumber=0x0912;this.getLoader=function(){return this._loader;}\nthis.getParent=function(){return this._parent;}\nthis.getExternal=function(){return this._external;}\nthis.getApp=function(){return this._app;}\nthis.getName=function(){return this._name;}\nthis.getAppName=function(){return this.runtimeEnvironment._appName;}\nthis.getAppCodeName=function(){return this.runtimeEnvironment._appCodeName;}\nthis.getVersion=function(){return this._version;}\nthis.getLoaded=function(){return this.runtimeEnvironment._state==1;}\nthis.runtimeEnvironment={\"_sysConfig\":null,\"_appName\":\"\",\"_appCodeName\":\"__JSDK_Namespace__\",\"_engine\":null,\"_ce\":null,\"_pe\":null,\"_state\":0,\"_shellMode\":\"Browser\",\"_xmlHttp\":null,\"_rootHome\":\"\",\"_classHome\":\"\",\"_rootPath\":\"\",\"_appFilePath\":\"\",\"_appFullPath\":\"\",\"_appRelPath\":\"\",\"_isDebug\":false,\"_isDevelop\":false,\"_isCache\":true,\"_isLocal\":true,\"_appMode\":\"\",\"_domain\":\"\",\"_environmentURL\":\"\",\"_localeLanguage\":\"\",\"_hasUnprocessedErrors\":false,\"_resources\":[],\"_coreCodes\":[],\"_classCodes\":[],\"_classLibs\":[],\"_nativeClasses\":[],\"_fileExtension\":null,\"_CONST\":{\"_XMLHTTP\":{\"ERR_IE_FILENOTEXSIT\":-2146697211,\"ERR_FF_FILENOTEXSIT\":1012}},\"config\":function(){var config={};return{\"getParameter\":function(name){return config[name]||config.el&&config.el.getAttribute(name);},\"getPretreatCode\":function(){return config[\"text\"]||config.el&&config.el.getAttribute(\"text\");},\"init\":function(cfg){config=cfg||{};},\"destroy\":function(){config=null;}};}(),\"logger\":function(engine){var logs=[],_jsre=null,win=null;return{\"log\":function(sMessage,isError){if(!_jsre)_jsre=engine.runtimeEnvironment;logs.push({\"message\":sMessage\n,\"date\":new Date()});if(isError)_jsre._hasUnprocessedErrors=true;if(_jsre&&_jsre._isDebug&&_jsre._state==1)this.printLog(logs.getLast());},\"getLogs\":function(){return logs.concat([]);},\"print\":function(text){if(!_jsre)_jsre=engine.runtimeEnvironment;switch(_jsre._shellMode){case\"Browser\":try{if(!win)win=window.open(\"\",\"JSDK_Console\");win.document.writeln(\"<pre style=\\\"margin:0\\\">\"+text+\"</pre>\");}catch(e){_jsre.$messageBox(text);}\nbreak;default:_jsre.$messageBox(text);}},\"printLog\":function(log){this.print([\"[\",log.date.toSTDString(),\":\",(\"000\"+log.date.getMilliseconds()).slice(-3),\"] \"\n,log.message].join(\"\"));}};}(this),\"initialize\":function(oEngine,oHost,oParentHost,oEnviron,oResource){this._engine=oEngine;try{this._engine._parent=!oParentHost?null:(!oParentHost[this._appCodeName]?null:oParentHost[this._appCodeName].Engine);}catch(e){this._engine._parent=null;}\nvar external=this._engine._external;var jsre=this,logger=jsre.logger,ex;var __temp,_lang;try{logger.log(\"JSDK Initializing runtime-environment...\");this._resources=this._engine._loader.resources||[];this._nativeClasses=[Object,Function,String,Number,Boolean,Date,Math,Array,Error];this.copyNamespace({\"Object\":Object,\"Function\":Function,\"String\":String,\"Number\":Number,\"Boolean\":Boolean,\"Date\":Date,\"Math\":Math,\"Array\":Array,\"Error\":Error},\"\",this._nativeClasses);this.checkShellMode();this.config.init(oEnviron);logger.log(\"JSDK Retrieving system properties...\");this._xmlHttp=this.getXMLHttpRequest();this._rootHome=this.config.getParameter(\"src\").split(\"/\").slice(0,-1).join(\"/\");this._classHome=this._rootHome+\"/classes\";this._libHome=this._rootHome+\"/lib\";this._sysConfig=typeof(__temp=this.getFileResource(\"config.json\"))==\"string\"&&this.parseJSON(__temp)||__temp;this._fileExtension=this._sysConfig[\"file-extension\"];this._environmentURL=this.config.getParameter(\"environment\")||\"\";this._isCache=this.config.getParameter(\"cache\");this._isDebug=this.config.getParameter(\"debug\");this._isDevelop=this.config.getParameter(\"develop\");this._appName=this.config.getParameter(\"appName\")||this._engine._name;this._appMode=this.config.getParameter(\"appMode\")||\"alone\";this._domain=this.config.getParameter(\"domain\");if(external[this._appName]!=undefined){logger.log(\"Application namespace of JSDK named \\\"\"\n+this._appName+\"\\\" has been used.\");throw new Error(0,\"Application namespace of JSDK named \\\"\"\n+this._appName+\"\\\" has been used.\");return;}\nif(__temp=this.config.getParameter(\"locale\")){switch(__temp.toLowerCase()){case\"auto\":case\"_bybrowser\":_lang=external.navigator.browserLanguage||external.navigator.language;break;case\"_byuser\":_lang=external.navigator.userLanguage||external.navigator.language;break;case\"_bysystem\":_lang=external.navigator.systemLanguage||external.navigator.language;break;case\"_byurl\":_lang=(external.location.query.match(/[?&]lang=([a-zA-Z-]+)/)||[null,\"\"]).pop();break;default:_lang=__temp;}\nthis._localeLanguage=function(){var values=_lang.split(\"-\");values[0]=values[0].toLowerCase();if(values.length==2)values[1]=values[1].toUpperCase();return values.join(\"-\");}();}\nswitch(this._appMode){case\"\":case\"alone\":logger.log(\"JSDK Start loading modules... \");this.globalEval(this.getFileResource(\"bin/base.js\"));this.loadModule(\"kernel\",this.getFileResource(\"bin/kernel.js\"));break;case\"main\":this._coreCodes[this._coreCodes.length]=[\"base.js\",this.getFileResource(\"bin/base.js\")];this._coreCodes[\"base.js\"]=this._coreCodes.length-1;this._coreCodes[this._coreCodes.length]=[\"kernel.js\",this.getFileResource(\"bin/kernel.js\")];this._coreCodes[\"kernel.js\"]=this._coreCodes.length-1;this._coreCodes[this._coreCodes.length]=[\"global.js\",this.getFileResource(\"bin/global.js\")];this._coreCodes[\"global.js\"]=this._coreCodes.length-1;logger.log(\"JSDK Start loading modules... \");this.globalEval(this._coreCodes[this._coreCodes[\"base.js\"]][1]);this.loadModule(\"kernel\",this._coreCodes[this._coreCodes[\"kernel.js\"]][1]);break;case\"sub\":if(this._engine._parent){var _coreCodes=this._engine._parent.runtimeEnvironment._coreCodes;logger.log(\"JSDK Start loading modules... \");this.globalEval(_coreCodes[_coreCodes[\"base.js\"]][1]);this.loadModule(\"kernel\",_coreCodes[_coreCodes[\"kernel.js\"]][1]);break;}\nbreak;}\nthis._appFilePath=this.config.getParameter(\"appFilePath\");this._appFullPath=this.config.getParameter(\"appFilePath\").leftBack(\"/\");this._appRelPath=this.getCurRelPath(this._appFullPath,this._rootHome,\"/\");this._rootPath=this.getFileFullPath(this._appFullPath,this._rootHome,\"/\");if(__temp=this.config.getParameter(\"include\")){for(var i=0,libs=__temp||[];i<libs.length;i++){var values=libs[i].match(/([^\\.]*)[\\.]?([0-9\\.]*)/);this.loadClassLib(values[1],values[2]);}}\nthis._ce=this._engine.compileEnvironment;this._pe=this._engine.pretreatEnvironment;this._ce.initialize(this);this._pe.initialize(this);logger.log(\"JSDK Initializing namespace...\");var $=this._engine._app=external[this._appName]=external[this._appCodeName]=function(){var JSDK=function(){var len=arguments.length;if(len>0){if(typeof(arguments[0])==\"string\"){return JSDK.query.apply(JSDK,arguments);}else if(typeof(arguments[0])==\"function\"){return JSDK.exec.apply(JSDK,arguments);}}}\nthis.copyNamespace(this._ce.getNamespace(),\"\",JSDK);return JSDK;}.apply(this);logger.log(\"JSDK Initialization started.\");}catch(ex){logger.log(\"JSDK Initialize error: \"+(ex.message||ex),true);jsre._state=-9;}finally{var p=function(){var s=[],logs=logger.getLogs();for(var i=0;i<logs.length;i++){var d=logs[i].date;s.push([\"\\r\\n[\",d.toSTDString(),\":\",(\"000\"+d.getMilliseconds()).slice(-3),\"] \"\n,logs[i].message].join(\"\"));}\nreturn(\"JSDK3 Log, URL: \"+external.document.URL\n+\"\\r\\n\\r\\nlogs: \\r\\n---\"+s.join(\"\"));}\nif(this._isDebug){logger.print(p());}else if(this._hasUnprocessedErrors){this.$messageBox(\"JSDK Load fail!\");}\njsre._state=1;if(this._isDebug||this._sysConfig.log[\"@enabled\"]){if(this._sysConfig.log[\"@enabledSend\"]&&!this._isLocal&&this._sysConfig.log.send.url){if(oHost.addEventListener){oHost.addEventListener(\"load\",function(){try{$.post(jsre._sysConfig.log.send.url,{body:p()},new Function());}\ncatch(e){}});}else if(oHost.attachEvent){oHost.attachEvent(\"onload\",function(){try{$.post(jsre._sysConfig.log.send.url,{body:p()},new Function());}\ncatch(e){}});}}}}},\"isAlive\":function(){return(!this._engine._external||this._engine._external.closed);},\"getRootPath\":function(){return this._rootPath;},\"getRootHome\":function(){return this._rootHome;},\"getClassHome\":function(){return this._classHome;},\"getAppFilePath\":function(){return this._appFilePath;},\"getAppFullPath\":function(){return this._appFullPath;},\"getAppRelPath\":function(){return this._appRelPath;},\"getAppMode\":function(){return this._appMode;},\"getShellMode\":function(){return this._shellMode;},\"getDomain\":function(){return this._domain;},\"getNativeClasses\":function(sName){if(sName==undefined)return this._nativeClasses;else return this._nativeClasses[sName];},\"getLocaleLanguage\":function(){return this._localeLanguage;},\"checkShellMode\":function(){var external=this._engine._external;if(external&&external.document){this._shellMode=\"Browser\";this._isLocal=external.location.host==\"\";}else if(external.WScript){this._shellMode=\"Windows\";}},\"getXMLHttpRequest\":function(){var progId,progIds=[\"MSXML2.XMLHTTP.6.0\"\n,\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"];return function(){if(typeof(ActiveXObject)==\"undefined\"){return new XMLHttpRequest();}else if(progId!=null){return new ActiveXObject(progId);}else{for(var i=0;i<progIds.length;i++){try{return new ActiveXObject(progId=progIds[i]);}catch(ex){progId=null;}}}};}(),\"isFileExists\":function(sFilePath){this._xmlHttp.open(\"HEAD\",sFilePath,false);try{this._xmlHttp.send();}catch(e){if(e.number&&e.number==this._CONST._XMLHTTP.ERR_IE_FILENOTEXSIT){return false;}else if(e.code&&e.code==this._CONST._XMLHTTP.ERR_FF_FILENOTEXSIT){return false;}\nthrow e;}\nif(this._xmlHttp.readyState==4){if(this._xmlHttp.status==200){return true;}else if(this._xmlHttp.status==404){return false;}else if(this._xmlHttp.status==0\n&&!this._xmlHttp.getAllResponseHeaders()){return true;}}\nreturn false;},\"getFileData\":function(sFilePath){try{this.logger.log(\"Getting file '\"+sFilePath+\"'...\");this._xmlHttp.open(\"GET\",sFilePath,false);if(this._xmlHttp.overrideMimeType){this._xmlHttp.overrideMimeType(\"text/plain\");}else{}\nthis._xmlHttp.send(null);if(this._xmlHttp.readyState==4){if(this._xmlHttp.status==200){return this._xmlHttp.responseText;}else if(this._xmlHttp.status==0\n&&!this._xmlHttp.getAllResponseHeaders()){return this._xmlHttp.responseText;}}}catch(ex){this.logger.log(\"Get file '\"+sFilePath+\"' fail!\");throw new Error(ex.number,\"Get file error!\\nfile: \\\"\"+sFilePath+\"\\\" \\ndata: \"+ex.message||ex);}\nthis.logger.log(\"Get file '\"+sFilePath+\"' fail!\");},\"getFileResource\":function(sFilePath,onlyCache){var code=\"\";var root=sFilePath.split(\"/\")[0];if(root==\"\"||root==\".\"||root==\"..\"){}else if(this._isDevelop){sFilePath=this._rootHome+\"/\"+sFilePath;}else{for(var i=0;i<this._resources.length;i++){code=this._resources[i].entity[sFilePath]||\"\";if(!!code)return code;}\nsFilePath=this._rootHome+\"/\"+sFilePath;}\nreturn!onlyCache&&this.getFileData(sFilePath)||\"\";},\"getResPath\":function(sPackage){return this._classHome+\"/\"+sPackage.replace(/\\./g,\"/\")+\"/_res\";},\"__getClassCodeFromFile\":function(sClassFullName,sVersion,sLocale){var baseFilePath=this._classHome+\"/\"+sClassFullName.replace(/\\./g,\"/\")+(sVersion?(\"_V\"+sVersion):\"\");var files=[],sCode=\"\";sLocale=sLocale?sLocale:this._localeLanguage;if(!sLocale){if(!this._isDevelop){files=[[\"\",baseFilePath+this._fileExtension[\"class\"].compile],[\"\",baseFilePath+this._fileExtension[\"class\"].source]];}else{files=[[\"\",baseFilePath+this._fileExtension[\"class\"].source],[\"\",baseFilePath+this._fileExtension[\"class\"].compile]];}}else{if(!this._isDevelop){files=[[sLocale,baseFilePath+\"_\"+sLocale+this._fileExtension[\"class\"].compile],[\"\",baseFilePath+this._fileExtension[\"class\"].compile],[sLocale,baseFilePath+\"_\"+sLocale+this._fileExtension[\"class\"].source],[\"\",baseFilePath+this._fileExtension[\"class\"].source]];}else{files=[[sLocale,baseFilePath+\"_\"+sLocale+this._fileExtension[\"class\"].source],[\"\",baseFilePath+this._fileExtension[\"class\"].source],[sLocale,baseFilePath+\"_\"+sLocale+this._fileExtension[\"class\"].compile],[\"\",baseFilePath+this._fileExtension[\"class\"].compile]];}}\nfor(var i=0;i<files.length;i++){try{sCode=this.getFileData(files[i][1]);if(sCode!=undefined)return[sVersion,files[i][0],files[i][1],sCode];}catch(e){if(e.number&&e.number==this._CONST._XMLHTTP.ERR_IE_FILENOTEXSIT){continue;}else if(e.code&&e.code==this._CONST._XMLHTTP.ERR_FF_FILENOTEXSIT){continue;}else{break;}}}\nreturn[\"\",\"\",\"\",\"\"];},\"__getClassCodeFromLibs\":function(sClassFullName,sVersion,sLocale){var sCode=\"\";if(this._isDevelop)return\"\";switch(this._appMode){case\"\":case\"alone\":case\"main\":for(var i=0,iLen=this._classLibs.length;i<iLen;i++){var entity=this._classLibs[i][3].entity;if(sCode=entity[sClassFullName]){return sCode;}}\nbreak;case\"sub\":if(this._engine._parent){return this._engine._parent.runtimeEnvironment.__getClassCodeFromLibs(sClassFullName,sVersion,sLocale);}\nbreak;}\nreturn\"\";},\"__getClassCodeFromCache\":function(sClassFullName,sVersion,sLocale){sLocale=sLocale==undefined?this._localeLanguage:sLocale;var sCode=\"\";switch(this._appMode){case\"\":case\"alone\":case\"main\":var index=this._classCodes[sClassFullName];if(index==undefined){return\"\";}else if(this._classCodes[index][0]==sVersion){return this._classCodes[index][3];}else{return\"\";}\nbreak;case\"sub\":if(this._engine._parent){this._engine._parent.runtimeEnvironment.__getClassCodeFromCache(sClassFullName,sVersion,sLocale);}\nbreak;}\nreturn\"\";},\"getClassCode\":function(sClassFullName,sVersion,sLocale){var sCode=\"\",values=[];sLocale=sLocale==undefined?this._localeLanguage:sLocale;switch(this._appMode){case\"\":case\"alone\":case\"main\":sCode=this.__getClassCodeFromCache(sClassFullName,sVersion,sLocale);if(!sCode){sCode=this.__getClassCodeFromLibs(sClassFullName,sVersion,sLocale);if(!sCode){values=this.__getClassCodeFromFile(sClassFullName,sVersion,sLocale);if(sCode=values[3]){this._addClassCode(sClassFullName,values[0],values[1],sCode);}}}\nbreak;case\"sub\":if(this._engine._parent){return this._engine._parent.runtimeEnvironment.getClassCode(sClassFullName,sVersion,sLocale);}\nbreak;}\nreturn sCode;},\"_addClassCode\":function(sClassFullName,sVersion,sLocale,sCode){if(undefined!=this._classCodes[sClassFullName])return;this._classCodes[this._classCodes.length]=[sClassFullName,sVersion,sLocale,sCode];this._classCodes[sClassFullName]=this._classCodes.length-1;},\"getCoreCode\":function(sName){var sCode=\"\";if(this._coreCodes.hasOwnProperty(sName)){return sCode=this._coreCodes[this._coreCodes[sName]][1];}else if(this._appMode==\"sub\"&&this._engine._parent){return sCode=this._engine._parent.runtimeEnvironment.getCoreCode(sName);}else{return sCode=this.getFileResource(\"bin/\"+sName);}},\"copyNamespace\":function(srcObj,vFilter,tarObj,isOverwrite){if(typeof(srcObj)!=\"object\"&&typeof(srcObj)!=\"function\")return;else if(typeof(tarObj)!=\"object\"&&typeof(tarObj)!=\"function\")return;else if(Object.prototype.toString.apply(srcObj)===\"[object Array]\")return;if(!vFilter){for(var sProp in srcObj){if(srcObj.hasOwnProperty(sProp)){try{if(isOverwrite){tarObj[sProp]=srcObj[sProp];}else if(tarObj[sProp]==undefined){tarObj[sProp]=srcObj[sProp];}}catch(e){}}}}else if(typeof(vFilter)==\"function\"){var fnFilter=vFilter;for(var sProp in srcObj){if(srcObj.hasOwnProperty(sProp)&&fnFilter(sProp)){try{if(isOverwrite){tarObj[sProp]=srcObj[sProp];}else if(tarObj[sProp]==undefined){tarObj[sProp]=srcObj[sProp];}}catch(e){}}}}else if(vFilter instanceof Array){var values=vFilter;for(var i=0,sProp;i<values.length;i++){if(srcObj.hasOwnProperty(sProp=values[i])){try{if(isOverwrite){tarObj[sProp]=srcObj[sProp];}else if(tarObj[sProp]==undefined){tarObj[sProp]=srcObj[sProp];}}catch(e){}}}}},\"loadModule\":function(sName,sCode){try{this._engine[sName]=new(new Function(\"return(\"+sCode+\");\")())(this._engine);}catch(ex){this.logger.log(\"JSDK Load module '\"+sName+\"' error: \"+(ex.message||ex),true);}},\"loadPackage\":function(){},\"loadClass\":function(sClassFullName,sVersion){var oClass=null;var sName=sClassFullName.split(\".\").pop();var sPath=sClassFullName.left(\".\");switch(0){case 0:try{oClass=this.getMember(this._engine.kernel,sClassFullName);if(typeof(oClass)==\"function\")return oClass;else if(typeof(oClass)==\"undefined\")break;else throw\"Class '\"+sClassFullName+\"' is invalid.\";}catch(e){}\ncase 1:try{oClass=this.getMember(this._ce._namespace,sClassFullName);if(typeof(oClass)==\"function\")return oClass;else if(typeof(oClass)==\"undefined\")break;else throw\"Class '\"+sClassFullName+\"' is invalid.\";}catch(e){}}\nif(typeof(oClass)!=\"undefined\"){return oClass;}else if(this._engine._app){this._ce._namespace.$import(sClassFullName,sVersion);var oClass=this.getMember(this._engine._app,sClassFullName);if(typeof(oClass)==\"undefined\")throw new Error(1000,\"Class '\"+sClassFullName+\"' be not found.\");if(sPath!=\"\"&&typeof(this._engine._app[sName])==\"undefined\"){this._engine._app[sName]=oClass;}}else{throw\"Class '\"+sClassFullName+\"' be not found.\";}\nreturn oClass;},\"loadClassLib\":function(sName,sVersion,sLocale){this.logger.log(\"JSDK Loading lib '\"+sName+\"'...\");var baseFilePath=this._libHome.right(this._rootHome+\"/\")+\"/classes/\"+sName+(sVersion?(\"_v\"+sVersion):\"\");var files=[],sCode=\"\",vCode=\"\",oLib=null;sLocale=sLocale?sLocale:this._localeLanguage;if(this._classLibs.hasOwnProperty(sName)){return;}else if(this._appMode==\"sub\"&&this._engine._parent){vCode=this.getFileResource(baseFilePath+this._fileExtension.lib,true);if(vCode!=undefined){this._classLibs[this._classLibs.length]=[sName,sVersion,sLocale\n,typeof(vCode)==\"string\"&&this.parseJSON(vCode)||vCode];this._classLibs[sName]=this._classLibs.length-1;}else{this._engine._parent.runtimeEnvironment.loadClassLib(sName,sVersion,sLocale);}\nreturn;}else{if(!sLocale){files=[[\"\",baseFilePath+this._fileExtension.lib]];}else{files=[[sLocale,baseFilePath+\"_\"+sLocale+this._fileExtension.lib],[\"\",baseFilePath+this._fileExtension.lib]];}}\nfor(var i=0;i<files.length;i++){try{vCode=this.getFileResource(files[i][1]);if(vCode!=undefined){this._classLibs[this._classLibs.length]=[sName,sVersion,sLocale\n,typeof(vCode)==\"string\"&&this.parseJSON(vCode)||vCode];this._classLibs[sName]=this._classLibs.length-1;return;}}catch(e){if(e.number&&e.number==this._CONST._XMLHTTP.ERR_IE_FILENOTEXSIT){continue;}else if(e.code&&e.code==this._CONST._XMLHTTP.ERR_FF_FILENOTEXSIT){continue;}else{break;}}}\nthis.logger.log(\"JSDK Load lib '\"+sName+\"' fail!\");},\"getFileFullPath\":function(sCurPath,sFilePath,sSep){sCurPath=sCurPath.replace(new RegExp(\"\\\\\"+sSep+\"+$\"),\"\");sSep=sSep?sSep:\"/\";var aValues=sFilePath.split(sSep);if(sFilePath==\"\"){return sCurPath;}else if(aValues[0]==\"\"){return sFilePath;}else if(aValues[0].indexOf(\":\")>=0){return sFilePath;}else if(aValues[0]==\".\"){return arguments.callee(sCurPath,aValues.slice(1).join(sSep),sSep);}else if(aValues[0]==\"..\"){if(sCurPath.indexOf(sSep)>=0){return arguments.callee(sCurPath.slice(0,sCurPath.lastIndexOf(sSep)),aValues.slice(1).join(sSep),sSep);}else{return arguments.callee(sCurPath,aValues.slice(1).join(sSep),sSep);}}else{return[sCurPath,sFilePath].join(sSep);}},\"getCurRelPath\":function(sCurFullPath,sTargetPath,sSep){sSep=sSep?sSep:\"\\\\\";var aCurPaths=sCurFullPath.split(sSep);var aTarPaths=sTargetPath.split(sSep);var iTarUpLevel=0,iTarDownLevel=0;var iRelUpLevel=0,aRelUpPaths=[],aRelDownPaths=[];if(aTarPaths[0]==\"\"){iRelUpLevel=aTarPaths.length-1;aRelDownPaths=aCurPaths.slice(1);}else{for(var i=0;i<aTarPaths.length;i++){if(aTarPaths[i]==\".\")continue;else if(aTarPaths[i]==\"..\"){iTarUpLevel++;}else{iTarDownLevel++;}}\niRelUpLevel=iTarDownLevel;for(var i=0,j=aCurPaths.length-iTarUpLevel;i<iTarUpLevel;i++){aRelDownPaths[i]=aCurPaths[j++];}}\nfor(var i=0;i<iRelUpLevel;i++){aRelUpPaths[i]=\"..\";}\nreturn[].concat(aRelUpPaths,aRelDownPaths).join(sSep);},\"$try\":function(){for(var i=0,l=arguments.length;i<l;i++){try{return arguments[i]();}catch(e){}}\nreturn undefined;},\"globalEval\":function(sCode){var external=this._engine._external;if(external.execScript){external.execScript(sCode);}else if(external.eval){external.eval(sCode);}else if(external.Script){external.Script(sCode);}},\"$execLibScript\":function(srcFilePath){},\"$messageBox\":function(sMessage,iButtons,sTitle){switch(this._shellMode){case\"Browser\":alert(sMessage);break;case\"Windows\":WScript.echo(sMessage);break;}},\"toBoolFromStr\":function(vValue){return(/^(true|1)$/i).test(vValue);},\"parseJSON\":function(data){try{var func=new Function(\"return(\"+data+\");\");}catch(e){}\nreturn!!func?func():func;},\"getMember\":function(oObj,sFullName){var aNames=sFullName.split(\".\");for(var i=0,len=aNames.length;i<len;i++){oObj=oObj[aNames[i]];if(oObj==undefined)break;}\nreturn oObj;},\"setMember\":function(oObj,sFullName,vValue,isAutoCreatePath){var aNames=sFullName.split(\".\");var oParentObj=oObj;for(var i=0,len=aNames.length;i<len-1;i++){oObj=oParentObj[aNames[i]];if(oObj){oParentObj=oObj;continue;}else if(isAutoCreatePath){oParentObj=oObj=oParentObj[aNames[i]]={};continue;}else{break;}}\nif(!oObj)throw\"not found member '\"+sFullName+\"'.\";oObj[aNames.pop()]=vValue;},\"destroy\":function(){var jsre=_JSDK_Namespace.runtimeEnvironment;}};this.compileEnvironment=new function(){var _jsre=null;var _classesLoaded={};var _classesShortcut={};var _classesFullShortcut={};var _global={};this._namespace={\"Global\":null,\"Engine\":null,\"Console\":null,\"$package\":function(sPackageName){var oObj=this,oObj1=_classesLoaded,aNames=sPackageName.split(\".\");for(var i=0,len=aNames.length;i<len;i++){if(typeof(oObj[aNames[i]])!=\"object\"){oObj=oObj[aNames[i]]={};oObj1=oObj1[aNames[i]]={};}else{oObj=oObj[aNames[i]];oObj1=oObj1[aNames[i]];}}\nif(_jsre._engine._app){oObj=_jsre._engine._app;for(var i=0,len=aNames.length;i<len;i++){if(typeof(oObj[aNames[i]])!=\"object\"){oObj=oObj[aNames[i]]={};}else{oObj=oObj[aNames[i]];}}}},\"$import\":function(sClassFullName,sVersion){var oClass;try{if(undefined!=_jsre.getMember(this,sClassFullName))return;var sName=sClassFullName.split(\".\").pop();var sPath=sClassFullName.left(\".\");with(this)eval(_jsre.getClassCode(sClassFullName,sVersion));oClass=_jsre.getMember(this,sClassFullName);if(undefined==oClass)throw\"error!\";_jsre.setMember(_classesLoaded,sClassFullName,oClass);if(_jsre._engine._app&&!_jsre.getMember(_jsre._engine._app,sClassFullName)){_jsre.setMember(_jsre._engine._app,sClassFullName,oClass,true);}\n_classesFullShortcut[sClassFullName]=oClass;if(sPath!=\"\"&&typeof(_classesShortcut[sName])==\"undefined\"){_classesShortcut[sName]=oClass;if(_jsre._engine._app){_jsre._engine._app[sName]=oClass;}}\nif(sPath!=\"\"&&typeof(this[sName])==\"undefined\"){this[sName]=oClass;}}catch(e){_jsre.logger.log(e.description,true);_jsre.logger.log(\"Import class \\\"\"+sClassFullName+\"\\\" error!\",true);}},\"$res\":function(sRelFilePath){}};this.initialize=function(jsre){_jsre=jsre;_jsre.logger.log(\"JSDK Initializing compile environment...\");_jsre.copyNamespace(_jsre._engine.kernel,\"\",_global);_jsre.copyNamespace((new Function(\"Engine\",\"return (\"\n+_jsre.getCoreCode(\"global.js\")+\")\"))(_jsre._engine),\"\",_global\n);_jsre.copyNamespace(_global,\"\",this._namespace);this._namespace.Global=this._namespace;this._namespace.Engine=_jsre._engine;this._namespace.Console=_jsre.logger;_jsre.logger.log(\"JSDK Initialized compile environment.\");};this.addNamespace=function(moduleName,oObj,isOverwrite){switch(moduleName){case\"global\":_jsre.copyNamespace(oObj,\"\",_global,isOverwrite);_jsre.copyNamespace(oObj,\"\",this._namespace,isOverwrite);break;case\"\":_jsre.copyNamespace(oObj,\"\",this._namespace,isOverwrite);break;}}\nthis.getNamespace=function(){var obj={};_jsre.copyNamespace({Engine:_jsre._engine},\"\",obj);_jsre.copyNamespace(_global,\"\",obj);_jsre.copyNamespace(_classesLoaded,\"\",obj);_jsre.copyNamespace(_classesShortcut,\"\",obj);return obj;}\nthis.getLoadedClassNames=function(){var values=[];for(var p in _classesFullShortcut){if(_classesFullShortcut.hasOwnProperty(p)){values[values.length]=p;}}\nreturn values;}\nthis.eval=function(sCode){try{with(this._namespace)eval(sCode);}catch(e){_jsre.logger.log(e,true);_jsre.logger.log(\"Execute code error!\");}}};this.pretreatEnvironment=new function(){var _jsre=null;var _namespace=null;var Global=null;var $import=function(sClassFullName,sVersion){_namespace.$import(sClassFullName,sVersion);}\nthis.initialize=function(jsre){Global=_namespace=jsre._ce._namespace;_jsre=jsre;_jsre.logger.log(\"JSDK Initializing appplication environment...\");_jsre.loadClassLib(\"lang\");$import(\"js.lang.natives.Object\");$import(\"js.lang.natives.Function\");$import(\"js.lang.natives.String\");$import(\"js.lang.natives.Number\");$import(\"js.lang.natives.Boolean\");$import(\"js.lang.natives.Date\");$import(\"js.lang.natives.Math\");$import(\"js.lang.natives.Array\");$import(\"js.lang.natives.Error\");$import(\"js.lang.Object\");$import(\"js.lang.Exception\");$import(\"js.lang.String\");$import(\"js.lang.Number\");$import(\"js.lang.Date\");switch(_jsre._shellMode){case\"Browser\":_jsre._coreCodes[_jsre._coreCodes.length]=[\"shell-re.js\",_jsre.getFileResource(\"shell/webbrowser/re.js\")];_jsre._coreCodes[\"shell-re.js\"]=_jsre._coreCodes.length-1;eval(\"(\"+_jsre._coreCodes[_jsre._coreCodes.length-1][1]+\")(_jsre._engine,Global,_jsre._rootHome+\\\"/shell/webbrowser\\\");\");break;case\"Windows\":break;}\neval(_jsre.config.getPretreatCode());_jsre.logger.log(\"JSDK Initialized application environment.\");if(_jsre._sysConfig[\"extension-patch\"]&&_jsre._sysConfig[\"extension-patch\"][\"@enabled\"]){_jsre._coreCodes[_jsre._coreCodes.length]=[\"ext-patch.js\",_jsre.getFileData(_jsre._rootHome+\"/patch/\"+_jsre._sysConfig[\"extension-patch\"][\"file\"])];_jsre._coreCodes[\"ext-patch.js\"]=_jsre._coreCodes.length-1;eval(\"(\"+_jsre._coreCodes[_jsre._coreCodes.length-1][1]+\")(_jsre._engine,Global,_jsre._rootHome+\\\"/patch\\\");\");}}\nthis.eval=function(code){eval(code);}};this.scriptEnvironment=new function(){this.eval=function(code){eval(code);}}\nthis.kernel={};{this.runtimeEnvironment.initialize(this,oHost,oParentHost,oEnviron);}})",
"bin/base.js" : "String.prototype.trim=function(){return this.replace(/^\\s+|\\s+$/g,'');}\nString.prototype.clean=function(){return this.replace(/\\s+/g,' ').trim();}\nString.prototype.reverse=function(){return this.split(\"\").reverse().join(\"\");}\nString.prototype.left=function(subString){switch(typeof(subString)){case\"string\":var intAt=this.indexOf(subString);if(intAt<=0)return(\"\");return this.slice(0,intAt);case\"number\":var iLen=subString;return this.slice(0,iLen);default:return\"\";}}\nString.prototype.leftBack=function(subString){var intAt=this.lastIndexOf(subString);if(intAt<=0)return(\"\");return this.slice(0,intAt);}\nString.prototype.middle=function(startStr,endStr,iOptions){iOptions=iOptions==undefined?0:iOptions;switch(iOptions){case 0:var startIndex=this.indexOf(startStr);var endIndex=this.indexOf(endStr,startIndex+1);break;case 1:var startIndex=this.indexOf(startStr);var endIndex=this.lastIndexOf(endStr);break;case 2:var endIndex=this.lastIndexOf(endStr);var startIndex=this.lastIndexOf(startStr,endIndex-1);break;}\nif(startIndex<0||endIndex<0)return\"\";if(startIndex>=endIndex)return\"\";return this.slice(startIndex+startStr.length,endIndex);}\nString.prototype.right=function(subString){switch(typeof(subString)){case\"string\":var intAt=this.indexOf(subString);if(intAt<0)return(\"\");return this.slice(intAt+subString.length);case\"number\":var iLen=subString;return this.slice(this.length-iLen);default:return\"\";}}\nString.prototype.rightBack=function(subString){var intAt=this.lastIndexOf(subString);if(intAt<0)return(\"\");return this.slice(intAt+subString.length);}\nString.prototype.word=function(sep,index){var values=this.split(sep);if(index<0)index=values.length+index;if(index>=0&&index<values.length){return values[index];}else{return\"\";}}\nString.prototype.hasAscii=function(){var reg=/[\\x00-\\xff]+/gi;return reg.test(this);}\nString.prototype.hasNonAscii=function(){var reg=/[^\\x00-\\xff]+/gi;return reg.test(this);}\nString.prototype.getAsciiCount=function(){return this.replace(/[^\\x00-\\xff]*/g,\"\").length;}\nString.prototype.getNonAsciiCount=function(){return this.replace(/[\\x00-\\xff]*/g,\"\").length;}\nString.prototype.equal=function(vStrings,isNoCase){if(!arguments.length)return false;isNoCase=isNoCase==null?false:isNoCase;if(vStrings instanceof Array){for(var i=0;i<vStrings.length;i++){if(isNoCase&&(this.toLowerCase()==vStrings[i].toLowerCase())){return true;}else if(!isNoCase&&(this.toString()==vStrings[i])){return true;}}}else{return this.toLowerCase()==vStrings.toLowerCase();}\nreturn false;}\nString.prototype.serialize=function(){return(\"\\\"\"+this.toString().replace(/\\\\/g,\"\\\\\\\\\").replace(/\\\"/g,\"\\\\\\\"\")\r\n		.replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\")\r\n		.replace(/([^\\x00-\\xff])/g,function($1){\r\n			return \"\\\\u\"+($1).charCodeAt(0).toString(16).slice(-4);\r\n		})+\"\\\"\");}\nNumber.prototype.atAround=function(min,max,iOptions){if(typeof(min)!=\"number\"||typeof(max)!=\"number\"||min>max){throw new Error(1000,\"Parameter of method 'atAround' of class 'Number' is invalid!\");}\niOptions=iOptions==undefined?0:iOptions;switch(iOptions){case 0:if(this<min){return-1;}else if(this>=min&&this<=max){return 0;}else if(this>max){return 1;}\nbreak;case 1:if(this<=min){return-1;}else if(this>min&&this<max){return 0;}else if(this>=max){return 1;}\nbreak;}\nthrow new Error(1000,\"Method 'atAround' of class 'Number' run error!\");}\nNumber.prototype.isWithin=function(min,max){if(typeof(min)!=\"number\"||typeof(max)!=\"number\"||min>max){throw new Error(1000,\"Parameter of method 'atAround' of class 'Number' is invalid!\");}\nif(this>=min&&this<=max)return true;else return false;}\nNumber.prototype.isWithout=function(min,max){if(typeof(min)!=\"number\"||typeof(max)!=\"number\"||min>max){throw new Error(1000,\"Parameter of method 'atAround' of class 'Number' is invalid!\");}\nif(this>=min&&this<=max)return false;else return true;}\nNumber.prototype.adjust=function(num){return(this+num).byPrecision(this.getPrecision());}\nNumber.prototype.getPrecision=function(){var str=this.toString();var at=str.indexOf(\".\");return at<0?0:(str.length-at-1);}\nNumber.prototype.byPrecision=function(iBits){var str=this.toString();var at=str.indexOf(\".\");if(at<0){return this;}else if(str.length-at-1<=iBits){return this;}else{str=(this+5*Math.pow(10,-iBits-1)).toString();at=str.indexOf(\".\");if(at<0){return parseFloat(str);}else if(str.length-at-1<=iBits){return parseFloat(str);}else{return parseFloat(str.slice(0,at+iBits+1));}}}\nNumber.prototype.toStrByPrec=function(iBits){var str=this.toString();var at=str.indexOf(\".\");if(at<0){return str+\".\"+[].fill(\"0\",iBits).join(\"\");}else if(str.length-at-1<=iBits){return str+[].fill(\"0\",iBits-(str.length-at-1)).join(\"\");}else{str=(this+5*Math.pow(10,-iBits-1)).toString();at=str.indexOf(\".\");if(at<0){return str+\".\"+[].fill(\"0\",iBits).join(\"\");}else if(str.length-at-1<=iBits){return str+[].fill(\"0\",iBits-(str.length-at-1)).join(\"\");}else{return str.slice(0,at+iBits+1);}}}\nDate.computeTime=function(iValue,vFromType,vToType){var iFromType;var iToType;switch(vFromType.toString().toLowerCase()){case\"0\":case\"time\":iFromType=0;break;case\"1\":case\"h\":iFromType=1;break;case\"2\":case\"m\":iFromType=2;break;case\"3\":case\"s\":iFromType=3;break;case\"4\":case\"ms\":iFromType=4;break;default:iFromType=0;}\nswitch(vToType.toString().toLowerCase()){case\"0\":case\"hh:mm:ss:ms\":iToType=0;break;case\"1\":case\"h\":iToType=1;break;case\"2\":case\"m\":iToType=2;break;case\"3\":case\"s\":iToType=3;break;case\"4\":case\"ms\":iToType=4;break;default:iToType=0;}\nif(iFromType==0){var iHour=iValue.getHours();var iMinute=iValue.getMinutes();var iSecond=iValue.getSeconds();var iMilliseconds=iValue.getMilliseconds();return(iToType==0?[iHour,iMinute,iSecond,iMilliseconds]:iToType==1?iHour:iToType==2?(iHour*60+iMinute):iToType==3?(iHour*60*60+iMinute*60+iSecond):iToType==4?((iHour*60*60+iMinute*60+iSecond)*1000+iMilliseconds):0\n);}else if(iFromType<=3){return(iToType==0?[Math.floor(iValue*Math.pow(60,1-iFromType)),Math.floor((iValue=iValue%Math.pow(60,iFromType-1))*Math.pow(60,2-iFromType)),Math.floor((iValue=iValue%Math.pow(60,iFromType-2))*Math.pow(60,3-iFromType)),0\n]:iToType<=3?Math.floor(iValue*Math.pow(60,iToType-iFromType)):iToType==4?Math.floor(iValue*Math.pow(60,3-iFromType)*1000):0\n);}else if(iFromType==4){return(iToType==0?[Math.floor(iValue*Math.pow(60,-2)*Math.pow(1000,-1)),Math.floor((iValue=iValue%(Math.pow(60,2)*Math.pow(1000,1)))*Math.pow(60,-1)*Math.pow(1000,-1)),Math.floor((iValue=iValue%(Math.pow(60,1)*Math.pow(1000,1)))*Math.pow(60,0)*Math.pow(1000,-1)),iValue%Math.pow(1000,1)]:iToType<=3?Math.floor(iValue*Math.pow(60,iToType-3)*Math.pow(1000,-1)):iToType==4?iValue:0\n);}else{return 0;}}\nDate.prototype.toSTDString=function(sPart,sDateSep){var iYear=this.getFullYear();var iMonth=this.getMonth()+1;var iDay=this.getDate();var iHour=this.getHours();var iMinute=this.getMinutes();var iSecond=this.getSeconds();var sDate=[(\"0000\"+iYear).slice(-4),(\"00\"+iMonth).slice(-2),(\"00\"+iDay).slice(-2)].join(sDateSep||\"-\");var sTime=[(\"00\"+iHour).slice(-2),(\"00\"+iMinute).slice(-2),(\"00\"+iSecond).slice(-2)].join(\":\");switch(sPart&&sPart.toLowerCase()){case\"date\":return sDate;case\"time\":return sTime;case\"datetime\":default:return sDate+\" \"+sTime;}}\nArray.from=function(item){if(item==null){return[];}else if(!(item instanceof Object)&&item.constructor&&(item.constructor instanceof Object)){return[item];}else if(item instanceof this){return item;}else if(Object.prototype.toString.apply(item)==='[object Array]'){return item;}else{try{return this.prototype.slice.call(item);}catch(e){}\ntry{var values=[];for(var i=0;i<item.length;i++){values[i]=item[i];}\nreturn values;}catch(e){}\nreturn[item];}}\nArray.prototype.append=function(){var array=this.concat.apply([],arguments);for(var i=0;i<array.length;i++){this[this.length]=array[i];}\nreturn this;}\nArray.prototype.include=function(item,toLast){var index=-1;for(var i=0;i<this.length;i++){if(this[i]===item){index=i;break;}}\nif(index<0){this[this.length]=item;}else if(toLast){this.splice(index,1);this[this.length]=item;}\nreturn this;}\nArray.prototype.combine=function(otherArray){for(var i=0;i<otherArray.length;i++){var flag=0;for(var j=0;j<this.length;j++){if(otherArray[i]===this[j]){flag=1;break;}}\nif(!flag)this[this.length]=otherArray[i];}\nreturn this;}\nArray.prototype.interlace=function(otherArray,align){var array=[];align=align||\"left\";switch(align.toLowerCase()){case\"left\":for(var i=0,k=0;i<this.length;i++){array[k++]=this[i];array[k++]=otherArray[Math.min(i,this.length-1,otherArray.length-1)];}\nbreak;case\"right\":for(var i=0,k=0;i<this.length;i++){array[k++]=otherArray[Math.min(i,this.length-1,otherArray.length-1)];array[k++]=this[i];}\nbreak;}\nfor(var i=0;i<array.length;i++){this[i]=array[i];}\nreturn this;}\nArray.prototype.insert=function(item,index){index=index==undefined?-1:index;if(index>=this.length){index=this.length;}else if(index<=-this.length-1){index=0;}else if(index<0){index=this.length+1+index;}\nvar array1=this.slice(index);this[index]=item;for(var i=0;i<array1.length;i++){this[index+1+i]=array1[i];}\nreturn this;}\nArray.prototype.fill=function(vValue,iLen,iStart,isAutoExpand){isAutoExpand=isAutoExpand==undefined?true:isAutoExpand;iStart=iStart==undefined?0:iStart;iLen=iLen==undefined?this.length:iLen;if(!isAutoExpand){if(iStart<0||iStart>=this.length||iLen<0)return this;var iEnd=Math.min(this.length,iStart+iLen)-1;}else{var iEnd=iStart+iLen-1;}\nfor(var i=iStart;i<=iEnd;i++){this[i]=vValue;}\nreturn this;}\nArray.prototype.trim=function(){var array=[];for(var i=0,j=0;i<this.length;i++){if(this[i]===undefined||this[i]===null||this[i]===\"\")continue;array[j++]=this[i];}\nthis.splice(0,this.length);for(var i=0;i<array.length;i++){this[i]=array[i];}\nreturn this;}\nArray.prototype.unique=function(){var array=[];for(var i=this.length-1;i>=0;i--){var item=this[i];var flag=0;for(var j=i-1;j>=0;j--){if(item===this[j]){flag=1;break;}}\nif(!flag)array[array.length]=item;}\nif(array.length==this.length)return this;this.splice(0,this.length);for(var i=array.length-1,j=0;i>=0;i--){this[j++]=array[i];}\nreturn this;}\nArray.prototype.removeAt=function(index){return this.splice(index,1);}\nArray.prototype.erase=function(item){for(var i=this.length-1;i>=0;i--){if(this[i]===item){this.splice(i,1);}}\nreturn this;}\nArray.prototype.clear=function(){this.splice(0,this.length);return this;}\nArray.getFirst=function(arr,fn,bind){if(!fn){return arr.length>0?arr[0]:undefined;}else{for(var i=0,len=arr.length;i<len;i++){if(!bind&&fn(arr[i],i,arr)){return arr[i];}else if(bind&&fn.call(bind,arr[i],i,arr)){return arr[i];}}}}\nArray.prototype.getFirst=function(fn,bind){if(!fn){return this.slice(0,1).pop();}else{for(var i=0,len=this.length;i<len;i++){if(!bind&&fn(this[i],i,this)){return this[i];}else if(bind&&fn.call(bind,this[i],i,this)){return this[i];}}}}\nArray.getLast=function(arr,fn,bind){if(!fn){return arr.length>0?arr[arr.length-1]:undefined;}else{for(var i=arr.length-1;i>=0;i--){if(!bind&&fn(arr[i],i,arr)){return arr[i];}else if(bind&&fn.call(bind,arr[i],i,arr)){return arr[i];}}}}\nArray.prototype.getLast=function(fn,bind){if(!fn){return this.slice(-1).pop();}else{for(var i=this.length-1;i>=0;i--){if(!bind&&fn(this[i],i,this)){return this[i];}else if(bind&&fn.call(bind,this[i],i,this)){return this[i];}}}}\nArray.prototype.find=function(vKey,isNoCase,isContains){var typeName=typeof(vKey);if(typeName!=\"string\"){return this.indexOf(vKey);}else if(isNoCase&&isContains){vKey=vKey.toLowerCase();for(var i=0;i<this.length;i++){if((typeof(this[i])==typeof(vKey))&&this[i].toLowerCase().contains(vKey)){return i;}}}else if(isNoCase){vKey=vKey.toLowerCase();for(var i=0;i<this.length;i++){if((typeof(this[i])==typeof(vKey))&&(this[i].toLowerCase()==vKey)){return i;}}}else if(isContains){for(var i=0;i<this.length;i++){if((typeof(this[i])==typeof(vKey))&&(this[i].indexOf(vKey)>=0)){return i;}}}else{return this.indexOf(vKey);}\nreturn-1;}\nArray.prototype.contains=function(item){for(var i=0;i<this.length;i++){if(this[i]===item){return true;}}\nreturn false;}\nArray.prototype.equal=function(otherArray){if(this.length!=otherArray.length)return false;for(var i=0;i<this.length;i++){if(this[i]!==otherArray[i])return false;}\nreturn true;}\nArray.prototype.equalWith=function(otherArray,ignoreSeq,ignoreCase){if(this.length!=otherArray.length)return false;if(!ignoreSeq){for(var i=0;i<this.length;i++){if(!ignoreCase){if(this[i]!==otherArray[i])return false;}else if(typeof(this[i])==\"string\"&&typeof(otherArray[i])==\"string\"){if(this[i].toLowerCase()!==otherArray[i].toLowerCase())return false;}else{if(this[i]!==otherArray[i])return false;}}}else{var otherArray1=otherArray.concat();for(var i=0;i<this.length;i++){var j=0;for(;j<otherArray1.length;j++){if(!ignoreCase){if(this[i]===otherArray1[j])break;}else if(typeof(this[i])==\"string\"&&typeof(otherArray1[j])==\"string\"){if(this[i].toLowerCase()===otherArray1[j].toLowerCase())break;}else{if(this[i]===otherArray[i])break;}}\nif(j<otherArray1.length){otherArray1.splice(j,1);}else{return false;}}}\nreturn true;}\nArray.prototype.belongTo=function(otherArray,ignoreSeq,ignoreCase){if(this.length>otherArray.length)return false;if(!ignoreSeq){for(var i=0,iLen=otherArray.length-this.length+1;i<iLen;i++){var j=0;if(!ignoreCase){if(this[j]!==otherArray[i])continue;}else if(typeof(this[j])==\"string\"&&typeof(otherArray[i])==\"string\"){if(this[j].toLowerCase()!==otherArray[i].toLowerCase())continue;}else{if(this[j]!==otherArray[i])continue;}\nfor(;j<this.length;j++){if(!ignoreCase){if(this[j]!==otherArray[i+j])break;}else if(typeof(this[j])==\"string\"&&typeof(otherArray[i+j])==\"string\"){if(this[j].toLowerCase()!==otherArray[i+j].toLowerCase())break;}else{if(this[j]!==otherArray[i+j])break;}}\nif(j>=this.length)return true;}\nreturn false;}else{var otherArray1=otherArray.concat();for(var i=0;i<this.length;i++){var j=0;for(;j<otherArray1.length;j++){if(!ignoreCase){if(this[i]===otherArray1[j])break;}else if(typeof(this[i])==\"string\"&&typeof(otherArray1[j])==\"string\"){if(this[i].toLowerCase()===otherArray1[j].toLowerCase())break;}else{if(this[i]===otherArray[i])break;}}\nif(j<otherArray1.length){otherArray1.splice(j,1);}else{return false;}}\nreturn true;}}\nArray.prototype.indexOf=function(item,startIndex){var n=this.length;var i=startIndex==undefined?0:(startIndex<0?Math.max(0,n+startIndex):startIndex);for(;i<n;i++){if(i in this&&this[i]===item)return i;}\nreturn-1;}\nArray.prototype.lastIndexOf=function(item,startIndex){var n=this.length;var i=startIndex==undefined?(n-1):startIndex;if(startIndex<0){i=Math.max(0,n-1+startIndex);}else if(startIndex>n-1){i=n-1;}\nfor(;i>=0;i--){if(i in this&&this[i]===item)return i;}\nreturn-1;}\nArray.prototype.forEach=function(fn,bind){for(var i=0,len=this.length;i<len;i++){if(bind)fn.call(bind,this[i],i,this);else fn(this[i],i,this);}}\nArray.prototype.map=function(fn,bind){var array=[];if(!fn)return this.concat();for(var i=0,len=this.length;i<len;i++){if(bind)array[i]=fn.call(bind,this[i],i,this);else array[i]=fn(this[i],i,this);}\nreturn array;}\nArray.prototype.every=function(fn,bind){var array=[];for(var i=0,len=this.length;i<len;i++){if(!bind&&!fn(this[i],i,this)){return false;}else if(bind&&!fn.call(bind,this[i],i,this)){return false;}}\nreturn true;}\nArray.prototype.some=function(fn,bind){var array=[];for(var i=0,len=this.length;i<len;i++){if(!bind&&fn(this[i],i,this)){return true;}else if(bind&&fn.call(bind,this[i],i,this)){return true;}}\nreturn false;}\nArray.prototype.select=function(fn,bind){var array=[];for(var i=0,j=0,len=this.length;i<len;i++){if(!bind&&fn(this[i],i,this)){array[j++]=this[i];}else if(bind&&fn.call(bind,this[i],i,this)){array[j++]=this[i];}}\nreturn array;}\nArray.prototype.filter=function(fn,bind){var array=[];for(var i=0,j=0,len=this.length;i<len;i++){if(!bind&&fn(this[i],i,this)){array[j++]=this[i];}else if(bind&&fn.call(bind,this[i],i,this)){array[j++]=this[i];}}\nreturn array;}\nArray.prototype.eval=function(fn,bind){var value=this.length>0?this[0]:\"\";for(var i=1;i<this.length;i++){if(bind)value=fn.call(bind,value,this[i]);else value=fn(value,this[i]);}\nreturn value;}\nArray.prototype.associate=function(otherArray){var obj={};for(var i=0;i<this.length;i++){obj[this[i].toString()]=otherArray.length>i?otherArray[i]:null;}\nreturn obj;}\nArray.prototype.isSameValues=function(){var vValue=this.length==0?\"\":this[0];for(var i=0;i<this.length;i++){if(vValue!==this[i])return false;}\nreturn true;}\nArray.prototype.isUniqueValues=function(){for(var i=this.length-1;i>=0;i--){var item=this[i];var flag=0;for(var j=i-1;j>=0;j--){if(item===this[j]){return false;}}}\nreturn true;}\nArray.prototype.addElement=function(vValue,isKeepOnly,isNoCase){var index=this.findElement(vValue,isNoCase);if(isKeepOnly&&index>=0)return;else this[this.length]=vValue;return vValue;}\nArray.prototype.addElementX=function(vValue,iOptions,isNoCase){switch(iOptions){case 0:break;case 1:var index=this.findElement(vValue,isNoCase);if(index>=0)return;break;case 2:var index=this.findElement(vValue,isNoCase);if(index>=0)this.removeElement(index);break;}\nthis[this.length]=vValue;return vValue;}\nArray.prototype.addElements=function(){for(var i=0,l=arguments.length;i<l;i++){this[this.length]=arguments[i];}\nreturn this;}\nArray.prototype.appendElements=function(){var aValues=[].concat.apply(this,arguments);for(var i=0;i<aValues.length;i++){this[this.length]=aValues[i];}\nreturn this;}\nArray.prototype.concatElements=function(){var aValues=[].concat.apply(this,arguments);for(var i=0;i<aValues.length;i++){this[this.length]=aValues[i];}\nreturn this;}\nArray.prototype.insertElement=function(newElement,tarIndex){if(tarIndex==null)return this[this.length]=newElement;if(tarIndex<0||tarIndex>this.length)return newElement;var aSplitter1=this.slice(tarIndex);this[tarIndex]=newElement;for(var i=0;i<aSplitter1.length;i++){this[tarIndex+1+i]=aSplitter1[i];}\nreturn newElement;}\nArray.prototype.moveElement=function(srcIndex,iOffset){if(srcIndex<0)return;if(srcIndex>this.length)return;if((srcIndex+iOffset)<0)return;if((srcIndex+iOffset)>=this.length)return;for(var i=0;i<Math.abs(iOffset);i++){this.swapElement(srcIndex+(iOffset>0?i:-i),srcIndex+(iOffset>0?i+1:-i-1));}\nreturn this[srcIndex];}\nArray.prototype.moveElementTo=function(srcIndex,tarIndex){return this.moveElement(srcIndex,tarIndex-srcIndex);}\nArray.prototype.swapElement=function(srcIndex,tarIndex){if(srcIndex==tarIndex)return;if(srcIndex<0||srcIndex>=this.length)return;if(tarIndex<0||tarIndex>=this.length)return;var element=this[tarIndex];this[tarIndex]=this[srcIndex];this[srcIndex]=element;return this;}\nArray.prototype.findElement=function(vKey,isNoCase,isContains){var typeName=typeof(vKey);if(typeName!=\"string\"){for(var i=0;i<this.length;i++){if((typeof(this[i])==typeof(vKey))&&(this[i]==vKey)){return i;}}}else if(isNoCase&&isContains){for(var i=0;i<this.length;i++){if((typeof(this[i])==typeof(vKey))&&(this[i].toLowerCase().indexOf(vKey.toLowerCase())>=0)){return i;}}}else if(isNoCase){for(var i=0;i<this.length;i++){if((typeof(this[i])==typeof(vKey))&&(this[i].toLowerCase()==vKey.toLowerCase())){return i;}}}else if(isContains){for(var i=0;i<this.length;i++){if((typeof(this[i])==typeof(vKey))&&(this[i].indexOf(vKey)>=0)){return i;}}}else{for(var i=0;i<this.length;i++){if((typeof(this[i])==typeof(vKey))&&(this[i]==vKey)){return i;}}}\nreturn-1;}\nArray.prototype.removeElement=function(index){return this.splice(index,1);}\nArray.prototype.isContains=function(item){for(var i=0;i<this.length;i++){if(this[i]===item){return true;}}\nreturn false;}\nArray.prototype.isSingleType=function(isCaseBase,isCaseObject){isCaseBase=isCaseBase==undefined?false:isCaseBase;isCaseObject=isCaseObject==undefined?true:isCaseObject;var sType=\"\";if(isCaseObject){if(!this.length){sType=\"\";}else if(!isCaseBase){sType=this[0].constructor||typeof(this[0]);}else if(typeof(this[0])==\"object\"){sType=this[0].constructor||typeof(this[0]);}else{sType=typeof(this[0]);}\nfor(var i=1;i<this.length;i++){var sType1=\"\";if(!isCaseBase){sType1=this[i].constructor||typeof(this[i]);}else if(typeof(this[i])==\"object\"){sType1=this[i].constructor||typeof(this[i]);}else{sType1=typeof(this[i]);}\nif(sType!=sType1)return false;}}else{if(!this.length){sType=\"\";}else if(!isCaseBase){sType=Object.prototype.toString.apply(this[0]);}else if(typeof(this[0])==\"object\"){sType=Object.prototype.toString.apply(this[0]);}else{sType=typeof(this[0]);}\nfor(var i=1;i<this.length;i++){var sType1=\"\";if(!isCaseBase){sType1=Object.prototype.toString.apply(this[i]);}else if(typeof(this[i])==\"object\"){sType1=Object.prototype.toString.apply(this[i]);}else{sType1=typeof(this[i]);}\nif(sType!=sType1)return false;}}\nreturn true;}\nArray.prototype.isSingleValue=function(){var vValue=!this.length?\"\":this[0];for(var i=0;i<this.length;i++){if(vValue!==this[i])return false;}\nreturn true;}\nArray.prototype.joinAsStr=function(vSeparator,iAlign,vTrims){iAlign=iAlign==undefined?0:iAlign;var aTrims=[];if(Object.prototype.toString.apply(vTrims)==='[object Array]'){aTrims=vTrims;}else{aTrims=[vTrims];}\nif(Object.prototype.toString.apply(vSeparator)!=='[object Array]'){return this.join(vSeparator);}else{var aValues=[];if(iAlign==0){for(var i=0,k=0;i<this.length;i++){if(!aTrims.isContains(this[i])){aValues[k++]=this[i];aValues[k++]=vSeparator[Math.min(i,this.length-1,vSeparator.length-1)];}}}else{for(var i=0,k=0;i<this.length;i++){if(!aTrims.isContains(this[i])){aValues[k++]=vSeparator[Math.min(i,this.length-1,vSeparator.length-1)];aValues[k++]=this[i];}}}\nreturn aValues.join(\"\");}}\nArray.prototype.toNewArray=function(fn){var array=[];for(var i=0;i<this.length;i++){if(typeof(fn)==\"function\"){array[array.length]=fn(this[i],i,this);}else{array[array.length]=this[i];}}\nreturn array;}",
"bin/kernel.js" : "(function(Engine){var Global=this;var Class;var jsre=Engine.runtimeEnvironment,ex;var logger=jsre.logger;var _classes={};eval((function(obj){var classNames=[];for(var className in obj){if(!obj.hasOwnProperty(className)){continue;}else if(obj[className].define){var clazz=_classes[className]=Global[className]=Class.create(className,obj[className].define,obj[className].extend);var objClass=obj[className];delete objClass.define;delete objClass.extend;if(objClass.base){if(objClass.base[1]==0){jsre.copyNamespace(jsre.getNativeClasses(objClass.base[0]),objClass.base[3],clazz);jsre.copyNamespace(jsre.getNativeClasses(objClass.base[0]).prototype,objClass.base[4],clazz.prototype);}else if(objClass.base[1]==1){clazz.$encapsulate(jsre.getNativeClasses(objClass.base[0]),[].concat(objClass.base[3],objClass.base[4]),objClass.base[2]);}\ndelete objClass.base;}else{classNames[classNames.length]=className;}\nfor(var key in objClass){if(objClass.hasOwnProperty(key)){if(key.slice(-1)==\"_\"){clazz[key.slice(0,-1)]=objClass[key];}else{clazz.prototype[key]=objClass[key];}}}\nvar ex=[\"valueOf\",\"toString\"];for(var i=0,key,iLen=ex.length;i<iLen;i++){if(objClass.hasOwnProperty(key=ex[i])){if(key.slice(-1)==\"_\"){clazz[key.slice(0,-1)]=objClass[key];}else{clazz.prototype[key]=objClass[key];}}}}else{logger.log(\"JSDK Initializing definiens of root class...\");Class=Global[className]=Function;var objClass=obj[className];for(var key in objClass){if(objClass.hasOwnProperty(key)){if(key.slice(-1)==\"_\"){Class[key.slice(0,-1)]=objClass[key];}else{Class.prototype[key]=objClass[key];}}}\nlogger.log(\"JSDK Initializing definiens of base class...\");}}\nreturn classNames.map(function(name){return\"var \"+name+\"=_classes[\\\"\"+name+\"\\\"];\";}).join(\"\");})({\"Class\":{\"create_\":function(name,constructor,superClass){if(!constructor||typeof(constructor)==\"function\"){var clazz=constructor||new Class();if(name!=\"Object\")clazz.$extends(superClass||Global.Object||Object);else clazz.prototype.$class=clazz;clazz.$name=name;}else{var objClass=constructor;var clazz=constructor.define;if(name!=\"Object\")clazz.$extends(objClass.extend||Global.Object||Object);else clazz.prototype.$class=clazz;clazz.$name=name;if(objClass.base){var baseClass=jsre.getNativeClasses(objClass.base[0]);if(objClass.base[1]==0){for(var i=0,keys=objClass.base[3];i<keys.length;i++){clazz[keys[i]]=baseClass[keys[i]];}\nfor(var i=0,keys=objClass.base[3];i<keys.length;i++){clazz.prototype[keys[i]]=baseClass[keys[i]];}}else{clazz.$encapsulate(baseClass,objClass.base[3].concat(objClass.base[4]),objClass.base[2]);}}\nfor(var key in objClass){if(objClass.hasOwnProperty(key)&&!key.equal([\"define\",\"extend\",\"base\"])){if(key.slice(-1)==\"_\"){clazz[key.slice(0,-1)]=objClass[key];}else{clazz.prototype[key]=objClass[key];}}}}\nreturn clazz;},\"forName_\":function(name){return _classes[name]||Engine.runtimeEnvironment.loadClass(name);},\"$super\":null,\"$class\":Function,\"$name\":\"Class\",\"addProperty\":function(isStatic,isPublic,sName,oImpt){sName=sName.charAt(0).toUpperCase()+sName.slice(1);var sNameForGet=(isPublic?\"\":\"_\")+(typeof(oImpt.get)==\"function\"?\"get\":\"\")+sName;var sNameForSet=(isPublic?\"\":\"_\")+(typeof(oImpt.set)==\"function\"?\"set\":\"\")+sName;if(isStatic){if(oImpt.get)this[sNameForGet]=oImpt.get;if(oImpt.set)this[sNameForSet]=oImpt.set;}else{if(oImpt.get)this.prototype[sNameForGet]=oImpt.get;if(oImpt.set)this.prototype[sNameForSet]=oImpt.set;}\nreturn this;},\"addMethod\":function(isStatic,isPublic,sName,func){sName=isPublic?sName:(\"_\"+sName);if(isStatic){this[sName]=func;}else{this.prototype[sName]=func;}\nreturn this;},\"addEventListener\":function(isStatic,isPublic,sName,fnListener){sName=(isPublic?\"\":\"_\")+\"on\"+sName.replace(\"on\",\"\");if(isStatic){this[sName]=fnListener;}else{this.prototype[sName]=fnListener;}\nreturn this;},\"newInstance\":function(){for(var a=[],i=0,l=arguments.length;i<l;i++){a.push(\"arguments[\"+i+\"]\");}\nreturn eval(\"new this(\"+a.join(\",\")+\")\");},\"applyInstance\":function(oInstance,vApplyOptions,isOverwrite){var aClasses=[].concat(jsre.getNativeClasses(\"Object\"),oInstance.$class||[],oInstance.$super||[],oInstance.$implements||[]);for(var i=0;i<aClasses.length;i++){if(aClasses[i]===this)return oInstance;}\nvApplyOptions=vApplyOptions==undefined?\"implement\":vApplyOptions;var hasConstructor=!!oInstance.constructor;var aKrnMembers=[\"valueOf\",\"toString\"],aKrnMembers1=aKrnMembers.concat([]);var aKeys=[],aKrnKeys=[];for(var key in this.prototype){var flag=0;for(var i=0;i<aKrnMembers1.length;i++){if(key==aKrnMembers1[i]){aKrnKeys=aKrnKeys.concat(aKrnMembers1.splice(i,1));flag=1;break;}}\nif(!flag)aKeys[aKeys.length]=key;}\nif(!hasConstructor&&isOverwrite){for(var i=0,key,iLen=aKrnKeys.length;i<iLen;i++){key=aKrnKeys[i];oInstance[key]=this.prototype[key];}\nfor(var i=0,key,iLen=aKrnMembers.length;i<iLen;i++){if(this.prototype.hasOwnProperty(key=aKrnMembers[i])){oInstance[key]=this.prototype[key];}else if(this.getSuperclass()&&this.getSuperclass().prototype.hasOwnProperty(key)){oInstance[key]=this.prototype[key];}}}\nfor(var i=0,iLen=aKeys.length,key;i<iLen;i++){try{key=aKeys[i];var isExists=false;for(var j=0;j<aClasses.length;j++){if(aClasses[j].prototype.hasOwnProperty(key)&&aClasses[j].prototype[key]===this.prototype[key]&&aClasses[j].prototype[key]===oInstance[key]){isExists=true;break;}}\nif(isExists)continue;if(typeof(oInstance[key])==\"undefined\"){oInstance[key]=this.prototype[key];}else if(isOverwrite){var aOldKeys=[];for(var oldKey=key,j=0;typeof(oInstance[oldKey])!=\"undefined\"&&j<1000;j++){aOldKeys[j]=oldKey;oldKey=\"__\"+oldKey+\"__\";}\nfor(var j=aOldKeys.length-1;j>=0;j--){oInstance[\"__\"+aOldKeys[j]+\"__\"]=oInstance[aOldKeys[j]];}\noInstance[key]=this.prototype[key];}}catch(e){}}\nswitch(vApplyOptions){case 0:case\"0\":case\"instance\":try{oInstance.$class=oInstance.constructor=this;}catch(e){}\noInstance.$implements=(oInstance.$implements||[]).concat(this.$implements||[]);break;case 1:case\"1\":case\"extends\":if(hasConstructor){if(oInstance[\"__constructor__\"]){oInstance[\"constructor\"]=oInstance[\"__constructor__\"];}}else{try{oInstance.constructor=this;}catch(e){}}\noInstance.$class=oInstance.constructor;oInstance.$super=this;oInstance.$implements=(oInstance.$implements||[]).concat(this.$implements||[]);try{delete oInstance[\"__constructor__\"];}catch(e){}\ntry{delete oInstance[\"__$class__\"];}catch(e){}\nbreak;case 2:case\"2\":case\"implement\":if(hasConstructor){if(oInstance[\"__constructor__\"]){oInstance[\"constructor\"]=oInstance[\"__constructor__\"];}}else{try{delete oInstance[\"constructor\"];}catch(e){}}\noInstance.$class=oInstance.constructor;oInstance.$implements=(oInstance.$implements||[]).concat(this.$implements||[],this);try{delete oInstance[\"__constructor__\"];}catch(e){}\ntry{delete oInstance[\"__$class__\"];}catch(e){}\nbreak;case 3:case\"3\":case\"copy\":if(hasConstructor){if(oInstance[\"__constructor__\"]){oInstance[\"constructor\"]=oInstance[\"__constructor__\"];}}else{try{delete oInstance[\"constructor\"];}catch(e){}}\noInstance.$class=oInstance.constructor;try{delete oInstance[\"__constructor__\"];}catch(e){}\ntry{delete oInstance[\"__$class__\"];}catch(e){}\nbreak;}\nreturn oInstance;},\"getName\":function(){return this.$name;},\"getSuperclass\":function(){return this.$super;},\"$extends\":function(clazz){try{if(typeof((typeof(clazz)!=\"string\")?clazz:(clazz=Class.forName(clazz)))!=\"function\"){throw new Global.Exception(\"Class.$extends() Error: the super \"\n+\"class '\"+clazz+\"' is invalid.\");}\nvar p=this.prototype=new clazz();p.$class=p.constructor=this;this.$super=clazz;return p;}catch(ex){throw new Global.Exception(\"class.$extends() Error.\",ex);}},\"$implement\":function(obj){var ex=[\"valueOf\",\"toString\"];if(typeof(obj)=='object'){for(var p in obj){if(obj.hasOwnProperty(p)){this.prototype[p]=obj[p];}}\nfor(var i=0,p,iLen=ex.length;i<iLen;i++){if(obj.hasOwnProperty(p=ex[i])){this.prototype[p]=obj[p];}}}\nreturn this;},\"$encapsulate\":function(clazz,members,instanceName){instanceName=instanceName||\"__original\";if(this.$base)return;this.$base=clazz;if(!members){for(var p in clazz){if(clazz.hasOwnProperty(p)&&typeof(clazz[p])==\"function\"){this[p]=new Function(\"return this.$base.\"+p+\".apply(this.$base,arguments);\");}}\nfor(var p in clazz.prototype){if(clazz.prototype.hasOwnProperty(p)&&typeof(clazz.prototype[p])==\"function\"){this.prototype[p]=new Function(\"return this.\"+instanceName+\".\"+p+\".apply(this.\"+instanceName+\",arguments);\");}}}\nmembers=members||[\"valueOf\",\"toString\"];for(var i=0;i<members.length;i++){var p=members[i];if(clazz.hasOwnProperty(p)&&typeof(clazz[p])==\"function\"){this[p]=new Function(\"return this.$base.\"+p+\".apply(this.$base,arguments);\");}\nif(clazz.prototype.hasOwnProperty(p)&&typeof(clazz.prototype[p])==\"function\"){this.prototype[p]=new Function(\"return this.\"+instanceName+\".\"+p+\".apply(this.\"+instanceName+\",arguments);\");}}\nreturn this;}}\n,\"Object\":{\"define\":function(value){this._value=value;switch(typeof(value)){case\"undefined\":this._value={};return this;case\"string\":return new Global.String(value);case\"number\":return new Global.Number(value);case\"boolean\":return new Boolean(value);case\"object\":if(value instanceof jsre.getNativeClasses(\"String\")){return new Global.String(value);}else if(value instanceof jsre.getNativeClasses(\"Number\")){return new Global.Number(value);}else if(value instanceof jsre.getNativeClasses(\"Date\")){return Global.Date.newInstanceFrom(value);}else if(value.constructor==jsre.getNativeClasses(\"Object\")){if(this instanceof Global.Object){return this;}else{return new Global.Object(value);}}else{return value;}}},\"toString_\":function(){return(\"[Object \"+this.getName()+\"]\");},\"getClass\":function(){return this.$class;},\"toString\":function(){return(\"[object \"+this.getClass().getName()+\"]\");},\"valueOf\":function(){return this._value;},\"instanceOf\":function(c){return(this instanceof(typeof(c)==\"string\"?Class.forName(c):c));},\"hasEvent\":function(sEvent){if(typeof(this[sEvent])!=\"function\")return false;return true;},\"addEventListener\":function(sName,fnListener){if(typeof(fnListener)==\"function\")this[sName]=fnListener;},\"fireEvent\":function(sEvent,oEventObject){if(typeof(this[sEvent])!=\"function\")return;try{return this[sEvent](oEventObject);}catch(e){throw new Error(1000,\"Event '\"+sEvent+\"' of object '\"+this.getClass().getName()+\"' has been runned error!\\nSource: \"\n+e.description);}}}\n,\"Exception\":{\"define\":function(message,cause){this.number=Engine._deviceNumber*0x10000+0x1;this.message=message||\"no message\";this.cause=cause;},\"getName\":function(){return this.getClass().getName();},\"getMessage\":function(){return this.message;},\"getCause\":function(){return this.cause;},\"toString\":function(){return this.getName()+\":\"+this.getMessage();},\"printStackTrace\":function(printer){var s=this.toString();var e=this.cause;while(e!=null){s+=\"\\r\\n\\tat \";if(e instanceof Error){s+=\"Error:\"+e.number\n+\",\"+e.message;}else{s+=e.toString();}\ne=e.cause;}\nif(!printer){}else{}}}\n,\"String\":{\"define\":function(value){this._value=(value||\"\").toString();this.length=this._value.length;},\"extend\":\"Object\",\"base\":[\"String\",0,\"_value\",[\"fromCharCode\"],['charAt','charCodeAt','concat','indexOf','lastIndexOf','match','replace','search','slice','split','substr','substring','toLowerCase','toUpperCase'\n]],\"toString\":function(){return this._value;},\"valueOf\":function(){return this._value;},\"trim\":function(){return Object(this.replace(/^\\s+|\\s+$/g,''));},\"ltrim\":function(sChars){return Object(this.replace(/^\\s+/g,''));},\"rtrim\":function(sChars){return Object(this.replace(/\\s+$/g,''));},\"clean\":function(){return Object(this.replace(/\\s+/g,' ').trim());},\"left\":function(subString){switch(typeof(subString)){case\"string\":var intAt=this.indexOf(subString);if(intAt<=0)return Object(\"\");return Object(this.slice(0,intAt));case\"number\":var iLen=subString;return Object(this.slice(0,iLen));default:return Object(\"\");}},\"leftBack\":function(subString){var intAt=this.lastIndexOf(subString);if(intAt<=0)return Object(\"\");return Object(this.slice(0,intAt));},\"middle\":function(startStr,endStr,vOptions){vOptions=vOptions==undefined?0:vOptions;switch(vOptions){case 0:case\"left\":var startIndex=this.indexOf(startStr);var endIndex=this.indexOf(endStr,startIndex+1);break;case 1:case\"max\":var startIndex=this.indexOf(startStr);var endIndex=this.lastIndexOf(endStr);break;case 2:case\"right\":var endIndex=this.lastIndexOf(endStr);var startIndex=this.lastIndexOf(startStr,endIndex-1);break;}\nif(startIndex<0||endIndex<0)return Object(\"\");if(startIndex>=endIndex)return Object(\"\");return Object(this.slice(startIndex+startStr.length,endIndex));},\"right\":function(subString){switch(typeof(subString)){case\"string\":var intAt=this.indexOf(subString);if(intAt<0)return Object(\"\");return Object(this.slice(intAt+subString.length));case\"number\":var iLen=subString;return Object(this.slice(this.length-iLen));default:return Object(\"\");}},\"rightBack\":function(subString){var intAt=this.lastIndexOf(subString);if(intAt<0)return Object(\"\");return Object(this.slice(intAt+subString.length));},\"reverse\":function(){return Object(this.split(\"\").reverse().join(\"\"));},\"repeat\":function(iCount){var values=[],str=this.toString();if(iCount==undefined||isNaN(iCount))return Object(str);while(iCount--){values[values.length]=str};return Object(values.join(\"\"));},\"truncate\":function(iMaxLen,iOptions,paddingStr){var str=this.toString(),str1=[];iOptions=iOptions==undefined?1:iOptions;paddingStr=paddingStr||\"\";if(paddingStr.length>=iMaxLen)return Object(str);switch(iOptions){case 0:var count=this.getAsciiCount()+this.getNonAsciiCount()*2;if(count>iMaxLen){for(var i=0,j=iMaxLen-paddingStr.length;j>0;i++,j--){if(str.charCodeAt(i)<=0xFF){str1[str1.length]=str.charAt(i);}else if(j>1){str1[str1.length]=str.charAt(i);j--;}}\nstr=str1.join(\"\")+paddingStr;}\nbreak;case 1:if(str.length>iMaxLen){str=str.split(0,iMaxLen-paddingStr.length)+paddingStr;}\nbreak;}\nreturn Object(str);},\"format\":function(){var str=this.toString();var argn=arguments.length;var strn=str.length;if(argn==0)return this;var aOutput=[],i=0;for(i=0;i<strn-1;){if(str.charAt(i)=='{'&&str.charAt(i+1)!='{'){var index=0,indexStart=i+1,j=0;for(j=indexStart;j<=strn-2;j++){var ch=str.charAt(j);if(ch<'0'||ch>'9')break;}\nif(j>indexStart){if(str.charAt(j)=='}'){for(var k=j-1;k>=indexStart;k--){index+=(str.charCodeAt(k)-48)*Math.pow(10,j-1-k);}\nif(argn>index){aOutput[aOutput.length]=arguments[index];i+=j-indexStart+2;}else{aOutput[aOutput.length]=str.slice(i,j);i+=j-indexStart+1;}\ncontinue;}}\naOutput[aOutput.length]=str.charAt(i++);}else if(str.charAt(i)=='{'&&str.charAt(i+1)=='{'){i++;aOutput[aOutput.length]=str.charAt(i++);}else if(str.charAt(i)=='}'&&str.charAt(i+1)=='}'){i++;aOutput[aOutput.length]=str.charAt(i++);}else{aOutput[aOutput.length]=str.charAt(i++);}}\naOutput[aOutput.length]=str.substr(i);return Object(aOutput.join(\"\"));},\"xsplit\":function(vOptions,vSepStr){var sSepStr=\"\";if(!(vSepStr instanceof Array)){return this.split(vSepStr);}\nvar values=[];switch(vOptions){case\"\":case\"first\":for(var i=0,iLen=vSepStr.length;i<iLen;i++){if(this.indexOf(vSepStr[i])>=0){sSepStr=vSepStr[i];break;}}\nvalues=this.split(sSepStr);break;case\"any\":var nearStrIndex,arrayIndex;var sTemp=this.toString();while(sTemp.length){nearStrIndex=sTemp.length;arrayIndex=-1;for(var i=0,iStrIndex=0,iLen=vSepStr.length;i<iLen;i++){iStrIndex=sTemp.indexOf(vSepStr[i]);if(iStrIndex>=0&&iStrIndex<nearStrIndex){nearStrIndex=iStrIndex;arrayIndex=i;}}\nif(arrayIndex>=0){values[values.length]=sTemp.slice(0,nearStrIndex);sTemp=sTemp.slice(nearStrIndex+vSepStr[arrayIndex].length);}else{values[values.length]=sTemp;sTemp=\"\";}}\nbreak;case\"group\":if(!vSepStr.length||vSepStr.length%2!=0){throw\"Parameter 'vSepStr' of method 'xsplit' of class 'String' must contain an even number of elements.\";}\nvar nearStrIndex,curGroupIndex;var sLeft=\"\",sRight=\"\";var isLeft=true;var sTemp=this.toString();while(sTemp.length){nearStrIndex=sTemp.length;if(isLeft){curGroupIndex=-1;for(var i=0,iStrIndex=0,iLen=vSepStr.length;i<iLen;i+=2){iStrIndex=sTemp.indexOf(vSepStr[i]);if(iStrIndex>=0&&iStrIndex<nearStrIndex){nearStrIndex=iStrIndex;curGroupIndex=i;}}\nif(curGroupIndex>=0){sLeft=vSepStr[curGroupIndex];sRight=vSepStr[curGroupIndex+1];values.push([\"\",sTemp.slice(0,nearStrIndex)]);sTemp=sTemp.slice(nearStrIndex+sLeft.length);}else{values.push([\"\",sTemp]);break;}}else{nearStrIndex=sTemp.indexOf(sRight);if(nearStrIndex>=0){values.push([sLeft+sRight,sTemp.slice(0,nearStrIndex)]);sTemp=sTemp.slice(nearStrIndex+sRight.length);}else{throw\"Missing closing delimiter \\\"\"+sRight+\"\\\"\";}}\nisLeft=!isLeft;}\nif(!isLeft&&sTemp==\"\"){throw\"Missing closing delimiter \\\"\"+sRight+\"\\\"\";}\nbreak;case\"complex\":break;}\nreturn values;},\"padLeft\":function(totalWidth,paddingChar){if(this.length>=totalWidth)return this;else return Object(Object(paddingChar).repeat(totalWidth-this.length)+this.valueOf());},\"padRight\":function(totalWidth,paddingChar){if(this.length>=totalWidth)return this;else return Object(this.valueOf()+Object(paddingChar).repeat(totalWidth-this.length));},\"hasAscii\":function(){var reg=/[\\x00-\\xff]+/gi;return reg.test(this);},\"hasNonAscii\":function(){var reg=/[^\\x00-\\xff]+/gi;return reg.test(this);},\"getAsciiCount\":function(){return this.replace(/[^\\x00-\\xff]*/g,\"\").length;},\"getNonAsciiCount\":function(){return this.replace(/[\\x00-\\xff]*/g,\"\").length;},\"encodeNonAscii\":function(){return(this.toString().replace(/([^\\x00-\\xff])/g,function($1){return\"\\\\u\"+($1).charCodeAt(0).toString(16).slice(-4);}));},\"isAllAscii\":function(){var reg=/^[\\x00-\\xff]*$/gi;return reg.test(this);},\"isAllLetter\":function(iOptions){iOptions=iOptions==undefined?0:iOptions;switch(iOptions){case 0:var reg=/^[a-z]*$/gi;break;case 1:var reg=/^[a-z]*$/g;break;case 2:var reg=/^[A-Z]*$/g;break;}\nreturn reg.test(this);},\"isAllNumber\":function(){var reg=/^[0-9]*$/gi;return reg.test(this);},\"equal\":function(vStrings,isNoCase){if(!arguments.length)return false;isNoCase=isNoCase==null?false:isNoCase;if(vStrings instanceof Array){for(var i=0;i<vStrings.length;i++){if(isNoCase&&(this.toLowerCase()==vStrings[i].toLowerCase())){return true;}else if(!isNoCase&&(this.toString()==vStrings[i])){return true;}}}else{return this.toLowerCase()==vStrings.toLowerCase();}\nreturn false;},\"serialize\":function(){return(\"\\\"\"+this.toString().replace(/\\\\/g,\"\\\\\\\\\").replace(/\\\"/g,\"\\\\\\\"\")\r\n			.replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\")\r\n			.replace(/([^\\x00-\\xff])/g,function($1){\r\n				return \"\\\\u\"+($1).charCodeAt(0).toString(16).slice(-4);\r\n			})+\"\\\"\");}}\n,\"Number\":{define:function(value){this._value=(value||0).valueOf();this.MAX_VALUE=this._value.MAX_VALUE;this.MIN_VALUE=this._value.MIN_VALUE;this.NaN=this._value.NaN;this.NEGATIVE_INFINITY=this._value.NEGATIVE_INFINITY;},\"extend\":\"Object\",base:[\"Number\",0,\"_value\",[\"POSITIVE_INFINITY\"],[\"toFixed\",\"toPrecision\",\"toExponential\",\"toLocaleString\"]],toString:function(){return this._value.toString();},valueOf:function(){return this._value;},isWithin:function(min,max){if(typeof(min)!=\"number\"||typeof(max)!=\"number\"||min>max){throw new Error(1000,\"Parameter of method 'atAround' of class 'Number' is invalid!\");}\nif(this>=min&&this<=max)return true;else return false;},isWithout:function(min,max){if(typeof(min)!=\"number\"||typeof(max)!=\"number\"||min>max){throw new Error(1000,\"Parameter of method 'atAround' of class 'Number' is invalid!\");}\nif(this>=min&&this<=max)return false;else return true;},atAround:function(min,max,vOptions){if(typeof(min)!=\"number\"||typeof(max)!=\"number\"||min>max){throw new Error(1000,\"Parameter of method 'atAround' of class 'Number' is invalid!\");}\nvOptions=vOptions==undefined?0:vOptions;switch(vOptions){case 0:case\"[]\":if(this<min){return-1;}else if(this>=min&&this<=max){return 0;}else if(this>max){return 1;}\nbreak;case 1:case\"()\":if(this<=min){return-1;}else if(this>min&&this<max){return 0;}else if(this>=max){return 1;}\nbreak;}\nthrow new Error(1000,\"Method 'atAround' of class 'Number' run error!\");}}\n,\"Date\":{\"define\":function(value){var _class=jsre.getNativeClasses(\"Date\");this._value=value==undefined?(new _class()):value;},\"extend\":\"Object\",\"base\":[\"Date\",1,\"_value\",[],[\"getDate\",\"getDay\",\"getFullYear\",\"getHours\",\"getMilliseconds\",\"getMinutes\",\"getMonth\",\"getSeconds\",\"getTime\",\"getTimezoneOffset\",\"getUTCDate\",\"getUTCDay\",\"getUTCFullYear\",\"getUTCHours\",\"getUTCMilliseconds\",\"getUTCMinutes\",\"getUTCMonth\",\"getUTCSeconds\",\"getVarDate\",\"getYear\",\"setDate\",\"setFullYear\",\"setHours\",\"setMilliseconds\",\"setMinutes\",\"setMonth\",\"setSeconds\",\"setTime\",\"setUTCDate\",\"setUTCFullYear\",\"setUTCHours\",\"setUTCMilliseconds\",\"setUTCMinutes\",\"setUTCMonth\",\"setUTCSeconds\",\"setYear\",\"toGMTString\",\"toLocaleString\",\"toUTCString\",\"parse\",\"UTC\",\"valueOf\",\"toString\"\n]],\"newInstanceFrom_\":function(nativeDate){var date=new this();date._value=nativeDate;return date;},\"compareDate_\":function(srcDate,tarDate,compareMethod,isAccurate){},\"computeTime_\":function(iValue,vFromType,vToType){var iFromType;var iToType;switch(vFromType.toString().toLowerCase()){case\"0\":case\"time\":iFromType=0;break;case\"1\":case\"h\":iFromType=1;break;case\"2\":case\"m\":iFromType=2;break;case\"3\":case\"s\":iFromType=3;break;case\"4\":case\"ms\":iFromType=4;break;default:iFromType=0;}\nswitch(vToType.toString().toLowerCase()){case\"0\":case\"hh:mm:ss:ms\":iToType=0;break;case\"1\":case\"h\":iToType=1;break;case\"2\":case\"m\":iToType=2;break;case\"3\":case\"s\":iToType=3;break;case\"4\":case\"ms\":iToType=4;break;default:iToType=0;}\nif(iFromType==0){var iHour=iValue.getHours();var iMinute=iValue.getMinutes();var iSecond=iValue.getSeconds();var iMilliseconds=iValue.getMilliseconds();return(iToType==0?[iHour,iMinute,iSecond,iMilliseconds]:iToType==1?iHour:iToType==2?(iHour*60+iMinute):iToType==3?(iHour*60*60+iMinute*60+iSecond):iToType==4?((iHour*60*60+iMinute*60+iSecond)*1000+iMilliseconds):0\n);}else if(iFromType<=3){return(iToType==0?[Math.floor(iValue*Math.pow(60,1-iFromType)),Math.floor((iValue=iValue%Math.pow(60,iFromType-1))*Math.pow(60,2-iFromType)),Math.floor((iValue=iValue%Math.pow(60,iFromType-2))*Math.pow(60,3-iFromType)),0\n]:iToType<=3?Math.floor(iValue*Math.pow(60,iToType-iFromType)):iToType==4?Math.floor(iValue*Math.pow(60,3-iFromType)*1000):0\n);}else if(iFromType==4){return(iToType==0?[Math.floor(iValue*Math.pow(60,-2)*Math.pow(1000,-1)),Math.floor((iValue=iValue%(Math.pow(60,2)*Math.pow(1000,1)))*Math.pow(60,-1)*Math.pow(1000,-1)),Math.floor((iValue=iValue%(Math.pow(60,1)*Math.pow(1000,1)))*Math.pow(60,0)*Math.pow(1000,-1)),iValue%Math.pow(1000,1)]:iToType<=3?Math.floor(iValue*Math.pow(60,iToType-3)*Math.pow(1000,-1)):iToType==4?iValue:0\n);}else{return 0;}},\"toSTDString\":function(sPart,sDateSep){var iYear=this.getFullYear();var iMonth=this.getMonth()+1;var iDay=this.getDate();var iHour=this.getHours();var iMinute=this.getMinutes();var iSecond=this.getSeconds();var sDate=[(\"0000\"+iYear).slice(-4),(\"00\"+iMonth).slice(-2),(\"00\"+iDay).slice(-2)].join(sDateSep||\"-\");var sTime=[(\"00\"+iHour).slice(-2),(\"00\"+iMinute).slice(-2),(\"00\"+iSecond).slice(-2)].join(\":\");switch(sPart&&sPart.toLowerCase()){case\"date\":return sDate;case\"time\":return sTime;case\"datetime\":default:return sDate+\" \"+sTime;}}}}));})",
"bin/global.js" : "({KEY_F1:112,KEY_F2:113,KEY_F3:114,KEY_F4:115,KEY_F5:116,KEY_F6:117,KEY_F7:118,KEY_F8:119,KEY_F9:120,KEY_F10:121,KEY_F11:122,KEY_F12:123,KEY_Enter:13,KEY_Backspace:8,KEY_Insert:45,KEY_Delete:46,KEY_Space:32,KEY_Home:36,KEY_End:35,KEY_PageUp:33,KEY_PageDown:34,KEY_Up:38,KEY_Down:40,KEY_Left:37,KEY_Right:39,KEY_NUM_Min:48,KEY_NUM_Max:57,KEY_LET_Min:65,KEY_LET_Max:90,KEY_LET_FST:65,KEY_LET_LST:90,KEY_MIN_Min:96,KEY_MIN_Max:105\n,\"_xmlHttp\":Engine.getLoader().getXMLHttpRequest(),\"_xmlDom\":Engine.getLoader().getXMLDOMDocument(),\"_xmlParser\":Engine.getLoader().getXMLDOMParser(),\"is\":function(obj,type){var toString=Object.prototype.toString,undefined;return(type===\"Null\"&&obj===null)||(type===\"Undefined\"&&obj===undefined)||toString.call(obj).slice(8,-1)===type;},\"isArray\":function(value){if(value instanceof Array){return true;}else if(Object.prototype.toString.apply(value)==='[object Array]'){return true;}else{return false;}},\"isEmpty\":function(value){if(!this.isArray(value)){switch(typeof(value)){case\"undefined\":return true;case\"string\":return value==\"\";case\"number\":return false;case\"boolean\":return false;case\"object\":if(value instanceof String){return value==\"\";}else if(value instanceof Array){return value.length==0;}else{return value==null;}}}else if(value.length==0){return true;}else{return false;}},\"isNumber\":function(value,isSensitive){if(typeof(value)==\"object\"){if(value instanceof Number){return true;}else if(value instanceof String){return!isSensitive&&value!=\"\"&&!isNaN(value);}}else if(typeof(value)==\"number\"){return true;}else{return!isSensitive&&value!=\"\"&&!isNaN(value);}},\"isDate\":function(value,isSensitive){if(typeof(value)==\"object\"){if(value instanceof Date){return true;}else if(value instanceof String){return!isSensitive&&!isNaN(new Date(value.replace(/-/g,\"/\").replace(/\\./g,\"/\")));}}else if(typeof(value)==\"string\"){return!isSensitive&&!isNaN(new Date(value.replace(/-/g,\"/\").replace(/\\./g,\"/\")));}else{return false;}},\"messageBox\":function(sMessage,iButtons,sTitle){alert(sMessage);},\"globalizing\":function(sObjName,fnFilter,isOverwrite,isContainsAll){var obj=eval(sObjName);var __items__=[];if(typeof(obj)=='object'){for(var p in obj){if((isContainsAll?true:obj.hasOwnProperty(p))&&p!=\"prototype\"&&p.indexOf(\"_\")<0){if(typeof(fnFilter)==\"function\"){if(!fnFilter(p))continue;}\nif(isOverwrite){__items__[__items__.length]=\"var \"+p\n+\"=function(){ return \"+sObjName+\".\"+p+\".apply(\"+sObjName+\",arguments); };\";}else{__items__[__items__.length]=\"if(typeof(\"+p+\")==\\\"undefined\\\") { \"+\"var \"+p\n+\"=function(){ return \"+sObjName+\".\"+p+\".apply(\"+sObjName+\",arguments); }; }\";}}}}\nreturn __items__.join(\"\");},\"globalEval\":function(code,host,isReturn){var external=host||this.Engine.getExternal();if(code){if(!isReturn){if(external.execScript){external.execScript(code);}else{(function(code){external[\"eval\"].call(external,code);})(code);}}else if(\"\\v\"==\"v\"){return(new Function(\"return (\"+code+\");\")());}else{return(function(code){return external[\"eval\"].call(external,code);})(code);}}},\"attempt\":function(){for(var i=0,l=arguments.length;i<l;i++){try{return arguments[i]();}catch(e){}}\nreturn undefined;},\"$try\":function(){for(var i=0,l=arguments.length;i<l;i++){try{return arguments[i]();}catch(e){}}\nreturn undefined;},\"$sleep\":function(timeout){var startDate=new Date();timeout=Number(timeout);while((new Date())-startDate<Math.min(timeout,1000));},\"$wait\":function(iTimeout,fnFlag){var startDate=new Date();var flag=false;iTimeout=Number(iTimeout);if(typeof(fnFlag)!=\"function\")return;while((new Date())-startDate<Math.min(iTimeout,1000)){if(flag=!!fnFlag())break;}\nreturn flag;},\"obj\":function(obj,clazz){var namespace=this;var values1=[\"string\",\"number\",\"boolean\"];var values2=[String,Number,Boolean,Date,Array];var values2a=[\"String\",\"Number\",\"Boolean\",\"Date\",\"Array\"];var typename=typeof(obj);if(obj==undefined)return;for(var i=0;i<values1.length;i++){if(values1[i]==typename){clazz=namespace[values2a[i]];return new clazz(obj);}}\nif(typename==\"object\"){var i=0;for(;i<4;i++){if(obj instanceof values2[i]){clazz=namespace[values2a[i]];return new clazz(obj);}}\nfor(;i<values2.length;i++){if(obj instanceof values2[i]){clazz=namespace[values2a[i]];return clazz.newInstanceFrom(obj);}}\nif(typeof(clazz)==\"function\"){return clazz.newInstanceFrom(obj);}}\nreturn obj;},\"extend\":function(){var argLen=arguments.length;var isDeep=false,target={},source;if(argLen==2){target=arguments[0],source=arguments[1];}else if(argLen==3&&this.is(arguments[0],\"Boolean\")){isDeep=arguments[0],target=arguments[1],source=arguments[2];}else{return;}\nif(!isDeep){for(var key in source){target[key]=source[key];}}else{for(var key in source){var copy=source[key];if(target===copy)continue;if(this.is(copy,\"Object\")){target[key]=arguments.callee.call(this,target[key]||{},copy);}else if(this.is(copy,\"Array\")){target[key]=arguments.callee.call(this,target[key]||[],copy);}else{target[key]=copy;}}}\nreturn target;}\n,\"newId\":function(iTimelyOptions,iLen){var date=new Date();var iYear=date.getFullYear();var iCentYear=iYear%100;var iCent=iYear-iCentYear;var iMonth=date.getMonth()+1;var iDay=date.getDate();var iHour=date.getHours();var iMinute=date.getMinutes();var iSecond=date.getSeconds();var iMilliseconds=date.getMilliseconds();var retValue=\"\";switch(iTimelyOptions){case 0:iLen=iLen||16;switch(iLen){case 16:var dtStart=new Date(iCent,0,1);var iDate=Math.floor((date-dtStart)/(1000*60*60*24))+1;var sDate=[].fill(\"0\",4).concat(iDate.toString(16)).join(\"\").slice(-4);var iTime=iHour*60*60*1000+iMinute*60*1000+iSecond*1000+iMilliseconds;var sTime=[].fill(\"0\",7).concat(iTime.toString(16)).join(\"\").slice(-7);var sRandom=[].fill(\"0\",5).concat(Math.random().toString(16).replace(\".\",\"\")).join(\"\").slice(-5);retValue=sDate+sTime+sRandom;break;case 32:var sDate=[(\"0000\"+iYear).slice(-4),(\"00\"+iMonth).slice(-2),(\"00\"+iDay).slice(-2)].join(\"\");var sTime=[(\"00\"+iHour).slice(-2),(\"00\"+iMinute).slice(-2),(\"00\"+iSecond).slice(-2),(\"000\"+iMilliseconds).slice(-3)].join(\"\");var sRandom=[].fill(\"0\",15).concat(Math.random().toString().replace(\".\",\"\")).join(\"\").slice(-15);retValue=sDate+sTime+sRandom;break;}\nbreak;case 1:iLen=iLen||11;switch(iLen){case 8:var dtStart=new Date(iYear,0,1,0,0,0,0);var iTime=Date.computeTime(date-dtStart,\"ms\",\"s\");var sTime=[].fill(\"0\",25).concat(iTime.toString(2)).join(\"\").slice(-25);var sRandom=[].fill(\"0\",16).concat(Math.random().toString(2)).join(\"\").slice(-16);var sBin=sTime+sRandom;retValue=[].fill(\"0\",8).concat(parseInt(sBin,2).toString(36)).join(\"\").slice(-8);break;case 9:var dtStart=new Date(iYear,0,1,0,0,0,0);var iTime=Date.computeTime(date-dtStart,\"ms\",\"s\");var sTime=[].fill(\"0\",25).concat(iTime.toString(2)).join(\"\").slice(-25);var sRandom=[].fill(\"0\",21).concat(Math.random().toString(2)).join(\"\").slice(-21);var sBin=sTime+sRandom;retValue=[].fill(\"0\",9).concat(parseInt(sBin,2).toString(36)).join(\"\").slice(-9);break;case 10:var dtStart=new Date(iCent,0,1,0,0,0,0);var iTime=Date.computeTime(date-dtStart,\"ms\",\"s\");var sTime=[].fill(\"0\",32).concat(iTime.toString(2)).join(\"\").slice(-32);var sRandom=[].fill(\"0\",19).concat(Math.random().toString(2)).join(\"\").slice(-19);var sBin=sTime+sRandom;retValue=[].fill(\"0\",10).concat(parseInt(sBin,2).toString(36)).join(\"\").slice(-10);break;case 11:var dtStart=new Date(iCent,0,1,0,0,0,0);var iTime=Date.computeTime(date-dtStart,\"ms\",\"s\");var sTime=[].fill(\"0\",32).concat(iTime.toString(2)).join(\"\").slice(-32);var sRandom=[].fill(\"0\",24).concat(Math.random().toString(2)).join(\"\").slice(-24);var sBin=sTime+sRandom;retValue=[].fill(\"0\",11).concat(parseInt(sBin,2).toString(36)).join(\"\").slice(-11);break;}\nbreak;case 2:iLen=iLen==undefined?11:iLen;switch(iLen){case 8:var dtStart=new Date(iYear,date.getMonth(),iDay,0,0,0,0);var iTime=date-dtStart;var sTime=[].fill(\"0\",27).concat(iTime.toString(2)).join(\"\").slice(-27);var sRandom=[].fill(\"0\",14).concat(Math.random().toString(2)).join(\"\").slice(-14);var sBin=sTime+sRandom;retValue=[].fill(\"0\",8).concat(parseInt(sBin,2).toString(36)).join(\"\").slice(-8);break;case 9:var dtStart=new Date(iYear,date.getMonth(),iDay,0,0,0,0);var iTime=date-dtStart;var sTime=[].fill(\"0\",27).concat(iTime.toString(2)).join(\"\").slice(-27);var sRandom=[].fill(\"0\",19).concat(Math.random().toString(2)).join(\"\").slice(-19);var sBin=sTime+sRandom;retValue=[].fill(\"0\",9).concat(parseInt(sBin,2).toString(36)).join(\"\").slice(-9);break;case 10:var dtStart=new Date(iYear,date.getMonth(),1,0,0,0,0);var iTime=date-dtStart;var sTime=[].fill(\"0\",32).concat(iTime.toString(2)).join(\"\").slice(-32);var sRandom=[].fill(\"0\",19).concat(Math.random().toString(2)).join(\"\").slice(-19);var sBin=sTime+sRandom;retValue=[].fill(\"0\",10).concat(parseInt(sBin,2).toString(36)).join(\"\").slice(-10);break;case 11:var dtStart=new Date(iYear,date.getMonth(),1,0,0,0,0);var iTime=date-dtStart;var sTime=[].fill(\"0\",32).concat(iTime.toString(2)).join(\"\").slice(-32);var sRandom=[].fill(\"0\",24).concat(Math.random().toString(2)).join(\"\").slice(-24);var sBin=sTime+sRandom;retValue=[].fill(\"0\",11).concat(parseInt(sBin,2).toString(36)).join(\"\").slice(-11);break;}\nbreak;default:var sDate=[(\"0000\"+iYear).slice(-4),(\"00\"+iMonth).slice(-2),(\"00\"+iDay).slice(-2)].join(\"\");var sTime=[(\"00\"+iHour).slice(-2),(\"00\"+iMinute).slice(-2),(\"00\"+iSecond).slice(-2),(\"000\"+iMilliseconds).slice(-3)].join(\"\");retValue=sDate+sTime;}\nreturn retValue.toUpperCase();},\"newUnid\":function(iBits){iBits=iBits||16;var aValues=[];for(var i=0;i<iBits;i++){aValues[i]=Math.floor(Math.random()*16.0).toString(16).toUpperCase();}\nreturn aValues.join(\"\");},\"newGuid\":function(){return[S4(),S4(),\"-\",S4(),\"-\",S4(),\"-\",S4(),\"-\",S4(),S4(),S4()].join(\"\");function S4(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1);}}\n,\"getURIFullPath\":function(sCurPath,sUriPath,sSep){sCurPath=sCurPath.replace(new RegExp(\"\\\\\"+sSep+\"+$\"),\"\");sSep=sSep?sSep:\"/\";var aValues=sUriPath.split(sSep);if(sUriPath==\"\"){return sCurPath;}else if(aValues[0]==\"\"){return sUriPath;}else if(aValues[0].indexOf(\":\")>=0){return sUriPath;}else if(aValues[0]==\".\"){return arguments.callee(sCurPath,aValues.slice(1).join(sSep),sSep);}else if(aValues[0]==\"..\"){if(sCurPath.indexOf(sSep)>=0){return arguments.callee(sCurPath.slice(0,sCurPath.lastIndexOf(sSep)),aValues.slice(1).join(sSep),sSep);}else{return arguments.callee(sCurPath,aValues.slice(1).join(sSep),sSep);}}else{return[sCurPath,sUriPath].join(sSep);}},\"getURIRelPath\":function(sCurPath,sUriFullPath,sSep){sCurPath=sCurPath.replace(new RegExp(\"\\\\\"+sSep+\"+$\"),\"\");sSep=sSep?sSep:\"/\";var aCurPaths=sCurPath.split(sSep);var aUriPaths=sUriFullPath.split(sSep);var iRelUpLevel=0,aRelUpPaths=[],aRelDownPaths=[];if(aCurPaths[0]==\"\"){iRelUpLevel=aCurPaths.length-1;aRelDownPaths=aUriPaths.slice(1);}else{for(var i=0;i<aCurPaths.length;i++){if(aCurPaths[i]==\".\"){aCurPaths.splice(i,1);i--;}}\nfor(var i=0;i<aUriPaths.length;i++){if(aUriPaths[i]==\".\"){aUriPaths.splice(i,1);i--;}}\nif((aCurPaths[0]==\"..\"||aUriPaths[0]==\"..\")&&(aCurPaths[0]!=aUriPaths[0])){return\"\";}\naCurPaths.unshift(\".\");aUriPaths.unshift(\".\");}\nfor(var i=aCurPaths.length-1;i>=0;i--){if(aUriPaths.join(sSep).toLowerCase().indexOf(aCurPaths.slice(0,i+1).join(sSep).toLowerCase()+sSep)==0){iRelUpLevel=aCurPaths.length-1-i;aRelDownPaths=aUriPaths.slice(i+1);break;}}\nfor(var i=0;i<iRelUpLevel;i++){aRelUpPaths[i]=\"..\";}\nreturn[].concat(aRelUpPaths,aRelDownPaths).join(sSep);},\"getURIPrmt\":function(sPrmts,sName){sPrmts=(sPrmts.toString().match(/^[^?]*[?]?([^?#]+)[#]?/)||[null,\"\"]).pop();var items=sPrmts?sPrmts.split(\"&\"):[];for(var i=0,j=0;i<items.length;i++){if(items[i]==\"\")continue;var sName1=decodeURIComponent(items[i].split(\"=\")[0]);if(sName1.toLowerCase()==sName.toLowerCase()){return decodeURIComponent(items[i].right(\"=\"));}}}\n,\"parseJSON\":function(data){try{var func=new Function(\"return(\"+data+\");\");}catch(e){}\nreturn!!func?func():func;},\"parseXML\":function(data){if(this._xmlParser){return this._xmlParser.parseFromString(data,\"text/xml\");}else if(this._xmlDom){this._xmlDom.loadXML(data.replace(/^[\\s\\r\\n]*/g,'').replace(/<![^<|>]*>/g,\"\"));return this._xmlDom;}},\"xml2json\":function(xml,tmpl){var obj={};if(xml.nodeType==1){if(xml.attributes.length>0){for(var j=0;j<xml.attributes.length;j++){var attribute=xml.attributes.item(j);obj[\"@\"+attribute.nodeName]=attribute.nodeValue;}}}else if(xml.nodeType==3){obj=xml.nodeValue;}\nif(xml.hasChildNodes()){for(var i=0;i<xml.childNodes.length;i++){var item=xml.childNodes[i];var nodeName=item.nodeName;var tmplValue=tmpl&&tmpl[nodeName];if(typeof(obj[nodeName])==\"undefined\"){if(!tmpl){obj[nodeName]=this.xml2json(item);}else if(tmplValue instanceof Array){obj[nodeName]=[this.xml2json(item,tmplValue.getLast())];}else{obj[nodeName]=this.xml2json(item,tmplValue);}}else{if(!(obj[nodeName]instanceof Array)){obj[nodeName]=[obj[nodeName]];}\nif(!tmpl){obj[nodeName].push(this.xml2json(item));}else if(tmplValue instanceof Array){obj[nodeName].push(this.xml2json(item,tmplValue.getLast()));}else{obj[nodeName].push(this.xml2json(item,tmplValue));}}}}\nreturn obj;},\"xml2json_old\":function(xml){var obj={};if(xml.nodeType==1){if(xml.attributes.length>0){obj[\"@attributes\"]={};for(var j=0;j<xml.attributes.length;j++){var attribute=xml.attributes.item(j);obj[\"@attributes\"][attribute.nodeName]=attribute.nodeValue;}}}else if(xml.nodeType==3){obj=xml.nodeValue;}\nif(xml.hasChildNodes()){for(var i=0;i<xml.childNodes.length;i++){var item=xml.childNodes[i];var nodeName=item.nodeName;if(typeof(obj[nodeName])==\"undefined\"){obj[nodeName]=this.xml2json_old(item);}else{if(!(obj[nodeName]instanceof Array)){var old=obj[nodeName];obj[nodeName]=[];obj[nodeName].push(old);}\nobj[nodeName].push(this.xml2json_old(item));}}}\nreturn obj;}\n,\"utf16to8\":function(str){var out,i,len,c;out=\"\";len=str.length;for(i=0;i<len;i++){c=str.charCodeAt(i);if((c>=0x0001)&&(c<=0x007F)){out+=str.charAt(i);}else if(c>0x07FF){out+=String.fromCharCode(0xE0|((c>>12)&0x0F));out+=String.fromCharCode(0x80|((c>>6)&0x3F));out+=String.fromCharCode(0x80|((c>>0)&0x3F));}else{out+=String.fromCharCode(0xC0|((c>>6)&0x1F));out+=String.fromCharCode(0x80|((c>>0)&0x3F));}}\nreturn out;},\"utf8to16\":function(str){var out,i,len,c;var char2,char3;out=\"\";len=str.length;i=0;while(i<len){c=str.charCodeAt(i++);switch(c>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:out+=str.charAt(i-1);break;case 12:case 13:char2=str.charCodeAt(i++);out+=String.fromCharCode(((c&0x1F)<<6)|(char2&0x3F));break;case 14:char2=str.charCodeAt(i++);char3=str.charCodeAt(i++);out+=String.fromCharCode(((c&0x0F)<<12)|((char2&0x3F)<<6)|((char3&0x3F)<<0));break;}}\nreturn out;},\"bin2str\":function(bin){var hex_str=this.bin2hex(bin);var ret_str=\"\";for(var i=0;i<hex_str.length;i+=2){ret_str+=String.fromCharCode(parseInt(\"0x\"+hex_str.charAt(i)+hex_str.charAt(i+1)));}\nreturn ret_str;},\"bin2hex\":function(bin){var _xmlDom=Engine.getLoader().getXMLDOMDocument();var _xmlParser=Engine.getLoader().getXMLDOMParser();var xml=null;var node=null;if(_xmlDom){xml=_xmlDom;}else{xml=_xmlParser.parseFromString(\"\",\"text/xml\");}\nnode=xml.createElement(\"root\");node.dataType=\"bin.hex\";node.nodeTypedValue=bin;return node.text||node.textContent;},\"str2hex\":function(s){var v,i,f=0,a=[];s+='';f=s.length;for(i=0;i<f;i++){a[i]=s.charCodeAt(i).toString(16).replace(/^([\\da-f])$/,\"0$1\");}\nreturn a.join('');}\n,\"exec\":function(){var _timer=null;var _timer1=null;var _drivers={};var _mainTasks=[];var _subTasks=[];var _doneSubTaskCount=0;var _backTasks=[];var _backTaskIdCount=0;var _curTask=null;var _curSubTask=null;var _html=[];var _state=0;var _flag=0;function startNextTask(){if(!_mainTasks.length)return;_state=1;_timer=window.setTimeout(function(){doNextTask();_timer=null;},0);}\nfunction startNextSubTask(){if(!_subTasks.length)return;_timer1=window.setTimeout(function(){try{_doneSubTaskCount++;_curSubTask=_subTasks.shift();var ret=_curSubTask.action();}catch(e){}\nif(ret===false){onFinishTask();}else if(!_subTasks.length){onFinishTask();}else{startNextSubTask();}},0);}\nfunction doNextTask(){try{_flag=0;_html.clear();_subTasks.clear();_doneSubTaskCount=0;_backTasks.clear();_backTaskIdCount=0;_curTask=_mainTasks.shift();_curTask.action();}catch(e){}}\nfunction callBack(func){var id=_backTaskIdCount++;var task=_backTasks[_backTasks.length]={\"id\":id,\"action\":function(){try{func.apply(this,arguments);}catch(e){};onFinishBackTask(id);}}\nreturn task.action;}\nfunction onFinishBackTask(id){for(var i=0;i<_backTasks.length;i++){if(_backTasks[i].id==id){_backTasks.removeAt(i);break;}}\nif(_backTasks.length==0&&_flag==1)onFinishAllBackTasks();}\nfunction onFinishAllBackTasks(){onFinishTask();}\nfunction onFinishTask(){_state=0;if(_html.length)_curTask.container.insertAdjacentHTML(\"beforeBegin\",_html.join(\"\"));if(_curTask.onFinished)try{_curTask.onFinished(_curTask.data);}catch(e){};startNextTask();}\n_drivers={\"do\":function(func,para){var container=para&&para.container;if(document.readyState.equal([\"loading\",\"interactive\"])){var scripts=document.getElementsByTagName(\"SCRIPT\");container=scripts[scripts.length-1];container.write=function(sHtml){_html.push(sHtml);}\ncontainer.writeln=function(sHtml){_html.push(sHtml+\"<br>\");}}\n_mainTasks.push({\"container\":container,\"data\":para&&para.data,\"onFinished\":para&&para.onFinished,\"action\":function(){var ret=func(container,callBack,this.data);_flag=1;if(func.length<2){onFinishTask();}else{if(ret){onFinishTask();}else if(!_backTasks.length){onFinishTask();}}}});if(!_state)startNextTask();},\"while\":function(func,para){var count=para.count||para.items&&para.items.length||0;_mainTasks.push({\"items\":para.items,\"start\":para.start||0,\"count\":count,\"size\":para.size||Math.ceil(Math.max(count/100,5)),\"data\":para.data,\"event\":{\"onFinished\":para.onFinished},\"onFinished\":function(){if(this.event.onFinished)this.event.onFinished.call(this,this.start\n+_doneSubTaskCount*this.size,_doneSubTaskCount*this.size,this.data);},\"action\":function(){if(this.size){for(var i=0,len=Math.ceil(this.count/this.size);i<len;i++){_subTasks.push({index:i,parent:this,action:function(){try{return func(para.items,this.parent.start+this.index*this.parent.size\n,this.parent.size,this.index,this.parent.data);}catch(e){return false;}}});}}else{}\nstartNextSubTask();_flag=1;if(!_subTasks.length)onFinishTask();}});if(!_state)startNextTask();}}\nreturn function(func,driver,para){_drivers[driver||\"do\"](func,para);}}(),\"ajax\":function(){var loader=Engine.getLoader();var global;var _xmlHttp=loader.getXMLHttpRequest();var _xmlDom=loader.getXMLDOMDocument();var _xmlParser=loader.getXMLDOMParser();function get(settings,xmlHttp,url,data){url=url.replace(/^\\/[^/\\:]+\\:\\//,\"/\");if(data){if(typeof(data)==\"object\"){data=serialize(data,\"PRMT\");}\nurl+=(url.match(/\\?/)?\"&\":\"?\")+data;}\nxmlHttp.open(\"GET\",url,settings.async);if(xmlHttp.overrideMimeType){xmlHttp.overrideMimeType(settings.mimeType+(settings.charset?(\"; charset=\"+settings.charset):\"\"));}\nif(data){xmlHttp.setRequestHeader(\"Content-Type\",settings.contentType);data=null;}\nif(!settings.cache){xmlHttp.setRequestHeader(\"Pragma\",\"no-cache\");xmlHttp.setRequestHeader(\"If-Modified-Since\",\"0\");}\nif(settings.async){xmlHttp.onreadystatechange=function(){onReadyStateChange(settings,xmlHttp);};xmlHttp.send(null);}else{xmlHttp.send(null);return onReadyStateChange(settings,xmlHttp);}}\nfunction post(settings,xmlHttp,url,data){if(data){if(typeof(data)==\"object\"){data=serialize(data,\"PRMT\");}}\nxmlHttp.open(\"POST\",url,settings.async);if(xmlHttp.overrideMimeType){xmlHttp.overrideMimeType(settings.mimeType+(settings.charset?(\"; charset=\"+settings.charset):\"\"));}\nxmlHttp.setRequestHeader(\"Content-Type\",settings.contentType);if(settings.async){xmlHttp.onreadystatechange=function(){onReadyStateChange(settings,xmlHttp);};xmlHttp.send(data);}else{xmlHttp.send(data);return onReadyStateChange(settings,xmlHttp);}}\nfunction onReadyStateChange(settings,xmlHttp){var content=\"\";if(xmlHttp.readyState==4){if(xmlHttp.status==200){try{content=getOnReady(xmlHttp,settings.dataType,settings.charset,settings.convert);settings.complete.call(settings.context,xmlHttp,\"\");settings.success.call(settings.context,content,\"\",xmlHttp);return content;}catch(e){}}else if(xmlHttp.status==0\n&&!xmlHttp.getAllResponseHeaders()){try{content=getOnReady(xmlHttp,settings.dataType,settings.charset,settings.convert);settings.complete.call(settings.context,xmlHttp,\"\");settings.success.call(settings.context,content,\"\",xmlHttp);return content;}catch(e){}}else{return settings.error(xmlHttp,\"\",\"get resource error !\");}}}\nfunction getOnReady(xmlHttp,sFormat,sCharset,fpConvert){var contentType=xmlHttp.getResponseHeader(\"Content-Type\").split(\";\")[0];switch(sFormat.toLowerCase()){case\"text\":return getTextOnReady(xmlHttp,sCharset,fpConvert);case\"xml\":var xml;try{var _xmlDom=loader.getXMLDOMDocument();if(contentType==\"text/xml\"||contentType==\"application/xml\"||xmlHttp.overrideMimeType){if(_xmlParser){xml=_xmlParser.parseFromString(xmlHttp.responseText,\"text/xml\");}else{xml=xmlHttp.responseXML;}}else if(contentType==\"\"||contentType==\"application/octet_stream\"){if(_xmlParser){xml=_xmlParser.parseFromString(xmlHttp.responseText,\"text/xml\");}else if(_xmlDom){_xmlDom.loadXML(getTextOnReady(xmlHttp,sCharset,fpConvert).replace(/^[\\s\\r\\n]*/g,'').replace(/<![^<|>]*>/g,\"\"));xml=_xmlDom;}}else if(contentType.split(\"/\")[0]==\"text\"){if(_xmlParser){xml=_xmlParser.parseFromString(xmlHttp.responseText,\"text/xml\");}else if(_xmlDom){_xmlDom.loadXML(getTextOnReady(xmlHttp,sCharset,fpConvert).replace(/^[\\s\\r\\n]*/g,'').replace(/<![^<|>]*>/g,\"\"));xml=_xmlDom;}}\nif(xml&&xml.documentElement\n&&xml.documentElement.nodeName.toLowerCase()!=\"parsererror\")return xml;}catch(e){}\nreturn null;case\"json\":try{var func=new Function(\"return(\"+getTextOnReady(xmlHttp,sCharset,fpConvert)+\");\");}catch(e){}\nreturn!!func?func():func;default:return xmlHttp.responseBody;}}\nfunction getTextOnReady(xmlHttp,sCharset,fpConvert){var origCharset=global.obj(xmlHttp.getResponseHeader(\"Content-Type\")).right(\";\").right(\"charset=\").valueOf();if(!xmlHttp.overrideMimeType&&!origCharset&&sCharset\n&&typeof(fpConvert)==\"function\"){return fpConvert(global.bin2str(xmlHttp.responseBody));}\nreturn xmlHttp.responseText;}\nfunction serialize(obj,dataType){dataType=dataType||\"JSON\";switch(dataType.toUpperCase()){case\"JSON\":break;case\"PRMT\":var values=[];for(var key in obj){if(obj.hasOwnProperty(key))values[values.length]=encodeURIComponent(key)+\"=\"+encodeURIComponent(obj[key].toString());}\nreturn values.join(\"&\");}}\nreturn function(arg1,arg2){if(!global)global=Engine.getApp();var settings={type:\"GET\",xhr:_xmlHttp,url:\"\",data:\"\",cache:true,async:true,charset:\"\",mimeType:\"\",contentType:'application/x-www-form-urlencoded',context:null,complete:function(xhr,textStatus){},success:function(data,textStatus,xhr){},error:function(xhr,textStatus,errorThrown){},convert:null,dataType:\"bin\"};var settings1;if(arg1&&!(arg1 instanceof String)){settings1=arg1;}else if(arg2){settings1=arg2;}\nfor(var key in settings1){if(settings1.hasOwnProperty(key)){settings[key]=settings1[key];}}\nif(arg1 instanceof String){settings.url=arg1;}\nif(settings.async){settings.xhr=loader.getXMLHttpRequest();}\nif(!settings.mimeType){switch(settings.dataType.toLowerCase()){case\"bin\":settings.mimeType=\"application/octet_stream\";break;case\"text\":settings.mimeType=\"text/plain\";break;case\"json\":settings.mimeType=\"text/plain\";break;case\"xml\":settings.mimeType=\"text/xml\";break;default:settings.mimeType=\"application/octet_stream\";break;}}\nsettings.context=settings;if(settings.type==\"GET\"){return get(settings,settings.xhr,settings.url,settings.data);}else if(settings.type==\"POST\"){return post(settings,settings.xhr,settings.url,settings.data);}}}(),\"get\":function(sUrl,vData,isCache,fpCallBack,sDataType,sCharset,fpConvert){var settings={type:\"GET\",url:sUrl,data:vData,cache:isCache,async:!!fpCallBack,charset:sCharset};if(typeof(fpCallBack)==\"function\"){settings.success=fpCallBack;}\nif(sDataType){settings.dataType=sDataType;}\nif(typeof(fpConvert)==\"function\"){settings.convert=fpConvert;}\nreturn Engine.getApp().ajax(settings);},\"post\":function(sUrl,vData,fpCallBack,sDataType){var settings={type:\"POST\",url:sUrl,data:vData,async:!!fpCallBack};if(typeof(fpCallBack)==\"function\"){settings.success=fpCallBack;}\nif(sDataType){settings.dataType=sDataType;}\nreturn Engine.getApp().ajax(settings);},\"getImage\":(function(){var list=[],intervalId=null,tick=function(){var i=0;for(;i<list.length;i++){list[i].end?list.splice(i--,1):list[i]();};!list.length&&stop();},stop=function(){clearInterval(intervalId);intervalId=null;};return function(url,ready,load,error){var onready,width,height,newWidth,newHeight,img=new Image();img.src=url;if(img.complete){ready.call(img);load&&load.call(img);return;};width=img.width;height=img.height;img.onerror=function(){error&&error.call(img);onready.end=true;img=img.onload=img.onerror=null;};onready=function(){newWidth=img.width;newHeight=img.height;if(newWidth!==width||newHeight!==height||newWidth*newHeight>1024\n){ready.call(img);onready.end=true;};};onready();img.onload=function(){!onready.end&&onready();load&&load.call(img);img=img.onload=img.onerror=null;};if(!onready.end){list.push(onready);if(intervalId===null)intervalId=setInterval(tick,40);};};})(),\"query\":(function(){var d=document;d._Q_rev=0;var MUTATION=false;var _onMu=function(){d._Q_rev++;MUTATION=true;};if(d.addEventListener){d.addEventListener('DOMNodeInserted',_onMu,false);d.addEventListener('DOMNodeRemoved',_onMu,false);}\nvar BY_ID1;var BY_CLASS;var HAS_TEXT_CONTENT=false;var IE678=window.ActiveXObject&&!d.addEventListener;(function(){var div=d.createElement('div');div.innerHTML='.<a name=\"d\"></a><div id=\"d\"></div>';HAS_TEXT_CONTENT=!!div.textContent;BY_ID1=div.getElementsByTagName('*')[\"d\"]===div.lastChild;div.innerHTML='<div class=\"t e\"></div><div class=\"t\"></div>';div.lastChild.className='e';BY_CLASS=div.getElementsByClassName&&div.getElementsByClassName('e').length==2;})();var BY_NAME=!!d.getElementsByName;var BY_ELEMENT=typeof d.documentElement.nextElementSibling!=='undefined';var BY_CHILDREN=!!d.documentElement.children;var BY_CHILDREN_TAG=BY_CHILDREN&&!!d.documentElement.children.tags;var PATTERN=/(?:\\s*([ ~+>,])\\s*)?(?:([:.#]?)((?:[\\w\\u00A1-\\uFFFF-]|\\\\.)+|\\*)|\\[\\s*((?:[\\w\\u00A1-\\uFFFF-]|\\\\.)+)(?:\\s*([~^$|*!]?=)\\s*((['\"]).*?\\7|[^\\]]*))?\\s*\\])/g;function trim(str){return str.replace(/^\\s*|\\s*$/g,'');}\nfunction make(kind,array){return(array.kind=kind,array);}\nvar parse=function(){var text;var index;function match(regex){var mc=(regex.lastIndex=index,regex.exec(text));return mc&&mc.index==index?(index=regex.lastIndex,mc):null;}\nfunction dequote(str){var ch=str.charAt(0);return ch=='\"'||ch==\"'\"?str.slice(1,-1):str;}\nfunction error(){throw['ParseError',text,index];}\nfunction parse(){var mc,simple,seq=[],chain=[seq],group=[chain];while(mc=match(PATTERN)){if(mc[1]){if(mc[1]==',')group.push(chain=[]);if(seq.length)chain.push(seq=[]);if(mc[1]!=',')seq.comb=mc[1];}\nsimple=[mc[4]||mc[3]];if(mc[6])simple.push(dequote(mc[6]));simple.kind=mc[5]||(mc[4]?'[':mc[2]||'T');if(simple[0]=='*'&&simple.kind!='T')error();if(mc[2]==':'){simple.kind=':'+mc[3];if(text.charAt(index)=='('){index++;if(mc[3]=='not'||mc[3]=='has'){var t=index;simple[0]=parse();simple[1]=text.slice(t,index);if(text.charAt(index)==')')index++;else error();}else{var tmpIndex=text.indexOf(')',index);if(tmpIndex!=-1){simple[0]=trim(text.slice(index,tmpIndex));index=tmpIndex+1;}else error();if(mc[3].indexOf('nth')==0){var tmp=simple[0];tmp=(tmp=='even'?'2n':tmp=='odd'?'2n+1':(tmp.indexOf('n')==-1?'0n':'')+tmp.replace(/\\s*/g,'')).split('n');simple[0]=!tmp[0]?1:Number(tmp[0])|0;simple[1]=Number(tmp[1])|0;}else if(mc[3]=='contains'){simple[0]=dequote(simple[0]);}}}}\nseq.push(simple);}\nreturn group;}\nreturn function(selector){return(text=selector,index=0,selector=parse(),match(/\\s*/g),index<text.length)?error():selector;};}();var fRMap={'#':9,'N':BY_NAME?7:0,'.':BY_CLASS?6:0,'T':5};var tRMap={'#':9,'=':9,'[':8,'N':9,'T':8,'.':5,'~=':3,'|=':3,'*=':3,':not':6,':has':1,':contains':3,':nth-child':2,':nth-last-child':2,':first-child':3,':last-child':3,':only-child':3,':not-ex':7};var efMap={id:'#',name:'N'};var testingOrder=function(a,b){return a.tR-b.tR;};var regPos=/:(nth|eq|gt|lt|first|last|even|odd)$/;function process(seq){var finder,t;var k=seq.length;while(k--){var simple=seq[k];if(simple.kind==':html')simple=make('T','html');if(simple.kind=='='){if(efMap[simple[0]])simple=make(efMap[simple[0]],[simple[1]]);}else if(simple.kind=='~='&&simple[0]=='className')simple=make('.',[simple[1]]);if(simple.kind=='T'){if(simple[0]=='*')simple.kind='*';else seq.tag=simple;t=simple[0].toLowerCase();}else if(simple.kind=='.'){if(!seq.classes)seq.classes=simple;else{seq.classes.push(simple[0]);simple.kind='*';}}\nif(simple.kind==':not'&&!((t=simple[0],t.length==1)&&(t=t[0],t.length==1))){simple.kind=':not-ex';}\nif(regPos.test(simple.kind)){simple[0]=Number(simple[0])|0;var newSimple=make(simple.kind,simple.slice(0));simple.kind='*';if(!seq.allPoses){seq.allPoses=[newSimple];}else{seq.allPoses.push(newSimple);}}\nsimple.fR=fRMap[simple.kind]|0;simple.tR=tRMap[simple.kind]|0;if(simple.fR&&(!finder||simple.fR>finder.fR))finder=simple;seq[k]=simple;}\nseq.sort(testingOrder);seq.$=finder;return seq;}\nfunction slice(chain){var part=[];var parts=[part];var k=chain.length;while(k--){var seq=chain[k];seq=process(seq);seq.N='node'+k;if(seq.allPoses){if(!chain.allPoses){chain.allPoses=[];}\nchain.allPoses.push.apply(chain.allPoses,seq.allPoses);}\nif(seq.$&&(!part.fR||seq.$.fR>part.fR||(seq.$.fR==part.fR&&parts.length==1))){part.fR=seq.$.fR;part.fI=part.length;}\npart.push(seq);if(seq.comb==' '&&k&&part.fI!=null){parts.push(part=[]);part.fR=0;}\nif(k==chain.length-1&&seq.tag)chain.tag=seq.tag;}\nfor(var i=0;i<parts.length;i++){part=parts[i];var part1=parts[i+1];if(part1!=null){if(part.fR>part1.fR||(part.fR==part1.fR&&part1.fI!=0)){parts.splice(i+1,1);part.push.apply(part,part1);i--;}else{part.R=part1[0].N;}}else{part.R='root';part.isFirst=true;}}\nif(parts[0].fI==null){parts[0].fI=0;parts[0][0].$=make('*',['*']);}\nreturn parts;}\nfunction format(tpl,params){return tpl.replace(/#\\{([^}]+)\\}/g,function(m,p){return params[p]==null?m:params[p]+'';});}\nvar CTX_NGEN=0;var TPL_DOC='/*^var doc=root.ownerDocument||root;^*/';var TPL_XHTML=TPL_DOC+'/*^var xhtml=Q._isXHTML(doc);^*/';var TPL_CONTAINS=IE678?'#{0}.contains(#{1})':'#{0}.compareDocumentPosition(#{1})&16';var TPL_QID='#{N}._Q_id||(#{N}._Q_id=++qid)';var TPL_FIND={'#':'var #{N}=Q._byId(\"#{P}\", #{R});if(#{N}){#{X}}','N':TPL_DOC+'var #{N}A=doc.getElementsByName(\"#{P}\");for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){if(#{R}===doc||'+format(TPL_CONTAINS,['#{R}','#{N}'])+'){#{X}}}','T':'var #{N}A=#{R}.getElementsByTagName(\"#{P}\");for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){#{X}}','.':'var #{N}A=#{R}.getElementsByClassName(\"#{P}\");for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){#{X}}','*':'var #{N}A=#{R}.getElementsByTagName(\"*\");for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){#{X}}','+':BY_ELEMENT?'/*^var #{N};^*/if(#{N}=#{R}.nextElementSibling){#{X}}':'var #{N}=#{R};while(#{N}=#{N}.nextSibling){if(#{N}.nodeType==1){#{X}break;}}','~':BY_ELEMENT?'/*^var #{N}H={};^*/var #{N}=#{R};while(#{N}=#{N}.nextElementSibling){if(#{N}H['+TPL_QID+'])break;#{N}H['+TPL_QID+']=1;#{X}}':'/*^var #{N}H={};^*/var #{N}=#{R};while(#{N}=#{N}.nextSibling){if(#{N}.nodeType==1){if(#{N}H['+TPL_QID+'])break;#{N}H['+TPL_QID+']=1;#{X}}}','>':'var #{N}A=#{R}.children||#{R}.childNodes;for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){if(#{N}.nodeType==1){#{X}}}','>T':'var #{N}A=#{R}.children.tags(\"#{P}\");for(var #{N}I=0,#{N};#{N}=#{N}A[#{N}I];#{N}I++){#{X}}'};var TPL_LEFT='var #{R}V={_:false};NP_#{R}:{P_#{R}:{#{X}break NP_#{R};}#{R}V._=true;#{Y}}';var TPL_TOPASS='if(t=#{N}H['+TPL_QID+']){if(t._){break P_#{R};}else{break NP_#{R};}}#{N}H['+TPL_QID+']=#{R}V;#{X}';var TPL_TOPASS_UP=format(TPL_TOPASS,{X:'if(#{N}!==#{R}){#{X}}'});var TPL_PASSED='break P_#{R};';var TPL_PASS={'>':'/*^var #{N}H={};^*/var #{N}=#{C}.parentNode;'+TPL_TOPASS_UP,' ':'/*^var #{N}H={};^*/var #{N}=#{C};while(#{N}=#{N}.parentNode){'+TPL_TOPASS_UP+'}','+':BY_ELEMENT?'/*^var #{N}H={};var #{N};^*/if(#{N}=#{C}.previousElementSibling){#{X}}':'/*^var #{N}H={};^*/var #{N}=#{C};while(#{N}=#{N}.previousSibling){#{X}break;}','~':BY_ELEMENT?'/*^var #{N}H={};^*/var #{N}=#{C};while(#{N}=#{N}.previousElementSibling){'+TPL_TOPASS+'}':'/*^var #{N}H={};^*/var #{N}=#{C};while(#{N}=#{N}.previousSibling){'+TPL_TOPASS+'}'};var TPL_MAIN='function(root){var result=[];var qid=Q.qid,t,l=result.length;BQ:{#{X}}Q.qid=qid;return result;}';var TPL_HELP='/*^var #{N}L;^*/if(!#{N}L||!('+format(TPL_CONTAINS,['#{N}L','#{N}'])+')){#{X}#{N}L=#{N};}';var TPL_PUSH='result[l++]=#{N};';var TPL_INPUT_T=TPL_XHTML+'/*^var input_t=!xhtml?\"INPUT\":\"input\";^*/';var TPL_POS='/*^var pos=-1;^*/';var TPL_TEST={'T':TPL_XHTML+'/*^var #{N}T=!xhtml?(\"#{0}\").toUpperCase():\"#{0}\";^*/#{N}.nodeName==#{N}T','#':'#{N}.id==\"#{0}\"','N':'#{N}.name==\"#{0}\"','[':IE678?'(t=#{N}.getAttributeNode(\"#{0}\"))&&(t.specified)':'#{N}.hasAttribute(\"#{0}\")','=':'#{A}==\"#{1}\"','!=':'#{A}!=\"#{1}\"','^=':'(t=#{A})&&t.slice(0,#{L})==\"#{1}\"','$=':'(t=#{A})&&t.slice(-#{L})==\"#{1}\"','*=':'(t=#{A})&&t.indexOf(\"#{1}\")!==-1','|=':'(t=#{A})&&(t==\"#{1}\"||t.slice(0,#{L})==\"#{P}\")','~=':'(t=#{A})&&(\" \"+t+\" \").indexOf(\"#{P}\")!==-1',':element':'#{N}.nodeType==1',':contains':'(#{N}.'+(HAS_TEXT_CONTENT?'textContent':'innerText')+'||\"\").indexOf(\"#{0}\")!==-1',':first-child':BY_ELEMENT?'#{N}.parentNode.firstElementChild===#{N}':'Q._isFirstChild(#{N})',':nth-child':TPL_DOC+'/*^var rev=doc._Q_rev||(doc._Q_rev=Q.qid++);^*/Q._index(#{N},#{0},#{1},rev)',':last-child':BY_ELEMENT?'#{N}.parentNode.lastElementChild===#{N}':'Q._isLastChild(#{N})',':only-child':BY_ELEMENT?'(t=#{N}.parentNode)&&(t.firstElementChild===#{N}&&t.lastElementChild===#{N})':'Q._isOnlyChild(#{N})',':not-ex':'/*^var _#{G}=Q._hash(Q(\"#{1}\",root));qid=Q.qid;^*/!_#{G}['+TPL_QID+']',':has':'(t=Q(\"#{1}\", #{N}),qid=Q.qid,t.length>0)',':parent':'!!#{N}.firstChild',':empty':'!#{N}.firstChild',':header':'/h\\\\d/i.test(#{N}.nodeName)',':input':'/input|select|textarea|button/i.test(#{N}.nodeName)',':enabled':'#{N}.disabled===false&&#{N}.type!==\"hidden\"',':disabled':'#{N}.disabled===true',':checked':'#{N}.checked===true',':selected':'(#{N}.parentNode.selectedIndex,#{N}.selected===true)',':focus':TPL_DOC+'#{N}===doc.activeElement',':button':TPL_INPUT_T+'#{N}.nodeName===\"button\"||(#{N}.nodeName===input_t&&#{N}.type===\"button\")',':submit':TPL_INPUT_T+'#{N}.nodeName===input_t&&#{N}.type===\"submit\"',':reset':TPL_INPUT_T+'#{N}.nodeName===input_t&&#{N}.type===\"reset\"',':text':TPL_INPUT_T+'#{N}.nodeName===input_t&&#{N}.type===\"text\"&&(t=#{N}.getAttribute(\"type\"),t===\"text\"||t===null)',':radio':TPL_INPUT_T+'#{N}.nodeName===input_t&&#{N}.type===\"radio\"',':checkbox':TPL_INPUT_T+'#{N}.nodeName===input_t&&#{N}.type===\"checkbox\"',':file':TPL_INPUT_T+'#{N}.nodeName===input_t&&#{N}.type===\"file\"',':password':TPL_INPUT_T+'#{N}.nodeName===input_t&&#{N}.type===\"password\"',':image':TPL_INPUT_T+'#{N}.nodeName===input_t&&#{N}.type===\"image\"'};function genAttrCode(attr){if(attr=='for')return'#{N}.htmlFor';if(attr=='class')return'#{N}.className';if(attr=='type')return'#{N}.getAttribute(\"type\")';if(attr=='href')return'#{N}.getAttribute(\"href\",2)';return'(#{N}[\"'+attr+'\"]||#{N}.getAttribute(\"'+attr+'\"))';}\nfunction genTestCode(simple){if(simple.kind.indexOf('=')!==-1){simple.A=genAttrCode(simple[0]);}\nvar t;switch(simple.kind){case'.':var k=simple.length;var buff=[];while(k--){buff.push('t.indexOf(\" #{'+k+'} \")!==-1');}\nreturn format('(t=#{N}.className)&&((t=\" \"+t+\" \"),('+buff.join(' && ')+'))',simple);case'^=':case'$=':simple.L=simple[1].length;break;case'|=':simple.L=simple[1].length+1;simple.P=simple[1]+'-';break;case'~=':simple.P=' '+simple[1]+' ';break;case':nth-child':if(simple[0]==1&&simple[1]==0)return'';break;case':not':t=genCondCode(simple[0][0][0]);return t?'!('+t+')':'false';case':not-ex':case':has':simple.G=CTX_NGEN++;break;case'*':return'';}\nreturn format(TPL_TEST[simple.kind],simple);}\nfunction genCondCode(seq){var buff=[];var k=seq.length;var code;while(k--){var simple=seq[k];if(code=genTestCode(simple)){buff.push(code);}}\nreturn buff.join(' && ');}\nfunction genThenCode(seq){var code=genCondCode(seq);return code?format('if('+code+'){#{X}}',{N:seq.N}):'#{X}';}\nvar NEEDNOT_ELEMENT_CHECK={'#':1,'T':1,'.':1,'N':1,':element':1};function genFindCode(seq,R,comb){comb=comb||seq.comb||' ';var tpl;if(comb==' '){var finder=seq.$;if(finder){tpl=TPL_FIND[finder.kind];finder.kind='*';}else{tpl=TPL_FIND['*'];if(IE678&&!NEEDNOT_ELEMENT_CHECK[seq[seq.length-1].kind]){seq.push(make(':element',[]));}}}else if(BY_CHILDREN_TAG&&comb=='>'&&seq.tag){tpl=TPL_FIND['>T'];finder=seq.tag;seq.tag.kind='*';}else{tpl=TPL_FIND[comb];}\nreturn format(tpl,{P:finder&&(finder.kind=='.'?finder.join(' '):finder[0]),N:seq.N,R:R,X:genThenCode(seq)});}\nfunction genNextCode(part,thenCode){var code='#{X}';var k=part.fI;while(k--){code=format(code,{X:genFindCode(part[k],part[k+1].N)});}\nvar nextCode;if(!thenCode){if(part.fI==0&&(k=part[0].$.kind)&&(k!='S'&&k!='#')){nextCode=format(TPL_HELP,{N:part[0].N});code=format(code,{X:nextCode})}}else{nextCode=format(thenCode,{N:part[0].N});code=format(code,{X:nextCode});}\nreturn code;}\nfunction genPassCode(seq,C,comb){return format(TPL_PASS[comb],{N:seq.N,C:C,X:genThenCode(seq)});}\nfunction genLeftCode(part){var code=TPL_LEFT;for(var i=part.fI+1,l=part.length;i<l;i++){var seq=part[i];var lastSeq=part[i-1];code=format(code,{X:genPassCode(seq,lastSeq.N,part[i-1].comb)});}\ncode=format(code,{X:TPL_PASSED});code=format(code,{R:part.R});return code;}\nfunction genPartCode(part,thenCode){var code=genFindCode(part[part.fI],part.R,!part.isFirst?' ':null);var nextCode=genNextCode(part,thenCode);if(part.fI<part.length-1){var passCode=genLeftCode(part);nextCode=format(passCode,{Y:nextCode});}\nreturn format(code,{X:nextCode});}\nfunction genThatCode(seq){var obj={};var k=seq.length;while(k--){var simple=seq[k];if(simple.kind==':first'){simple=make(':nth',[0]);}else if(simple.kind==':last'){obj.last=1;}\nif(simple.kind==':lt'){obj.lt=obj.lt==null?simple[0]:Math.min(obj.lt,simple[0]);}else if(simple.kind==':gt'){obj.gt=obj.gt==null?simple[0]:Math.max(obj.gt,simple[0]);}else if(simple.kind==':eq'||simple.kind==':nth'){if(obj.eq&&obj.eq!==simple[0]){obj.no=true;}else obj.eq=simple[0];}else if(simple.kind==':even'||simple.kind==':odd'){obj[simple.kind.slice(1)]=1;}}\nif((obj.lt!=null&&obj.eq!=null&&obj.eq>=obj.lt)||(obj.lt!=null&&obj.gt!=null&&obj.lt<=obj.gt)||(obj.even&&obj.odd)){obj.no=1;}\nif(obj.no){return'/*^break BQ;^*/';}\nvar buff=[];if(obj.even){buff.push('pos%2===0');}else if(obj.odd){buff.push('pos%2===1');}\nvar code=obj.eq==null?TPL_PUSH:'if(pos==='+obj.eq+'){result=[#{N}];break BQ;}';if(obj.gt!=null){buff.push('pos>'+obj.gt);}\ncode=buff.length?'if ('+buff.join('&&')+'){'+code+'}':code;code=obj.lt!=null?'if (pos<'+obj.lt+'){'+code+'}else break BQ;':code;if(obj.last){code+='/*$result=result.slice(-1);$*/';}\nreturn code;}\nfunction genCode(chain){var parts=slice(chain);var thenCode=chain.allPoses?TPL_POS+'pos++;'+genThatCode(chain.allPoses):TPL_PUSH;CTX_NGEN=0;var code='#{X}';var k=parts.length;while(k--){var part=parts[k];code=format(code,{X:genPartCode(part,k==0?thenCode:false)});}\nreturn code;}\nvar documentOrder;if(typeof d.documentElement.sourceIndex=='number'){documentOrder=function(nodeA,nodeB){return nodeA===nodeB?0:nodeA.sourceIndex-nodeB.sourceIndex;};}else if(d.compareDocumentPosition){documentOrder=function(nodeA,nodeB){return nodeA===nodeB?0:nodeB.compareDocumentPosition(nodeA)&0x02?-1:1;};}\nfunction uniqueSort(nodeSet,notUnique){if(!nodeSet.length)return nodeSet;nodeSet.sort(documentOrder);if(notUnique)return nodeSet;var resultSet=[nodeSet[0]];var node,j=0;for(var i=1,l=nodeSet.length;i<l;i++){if(resultSet[j]!==(node=nodeSet[i])){resultSet[++j]=node;}}\nreturn resultSet;}\nfunction compile(expr){var group=parse(expr);var tags={};var k=group.length;while(k--){var chain=group[k];var code=genCode(chain);if(tags&&chain.tag&&!tags[chain.tag[0]]){tags[chain.tag[0]]=1;}else{tags=null;}\nvar hash={};var pres=[];var posts=[];code=code.replace(/\\/\\*\\^(.*?)\\^\\*\\//g,function(m,p){return(hash[p]||(hash[p]=pres.push(p)),'');});code=code.replace(/\\/\\*\\$(.*?)\\$\\*\\//g,function(m,p){return(hash[p]||(hash[p]=posts.push(p)),'');});code=format(TPL_MAIN,{X:pres.join('')+code+posts.join('')});group[k]=new Function('Q','return('+code+')')(Q);}\nif(group.length==1){return group[0];}\nreturn function(root){var k=group.length;var result=[];while(k--){result.push.apply(result,group[k](root));}\nreturn uniqueSort(result,tags!=null);};}\nQ._hash=function(result){var hash=result._Q_hash;if(hash==null){hash=result._Q_hash={};var k=result.length;var qid=Q.qid;while(k--){var el=result[k];hash[el._Q_id||(el._Q_id=++qid)]=1;}\nQ.qid=qid;}\nreturn hash;};var _slice=Array.prototype.slice;Q._toArray1=function(staticNodeList){var k=staticNodeList.length;var a=new Array(k);while(k--){a[k]=staticNodeList[k];}\nreturn a;};Q._toArray=function(staticNodeList){try{return _slice.call(staticNodeList,0);}catch(ex){}\nreturn(Q._toArray=Q._toArray1)(staticNodeList);};function queryXML(expr,root){throw['NotImpl'];}\nvar cache={};var inQuery=false;function query(expr,root){var doc=root.ownerDocument||root;var ret;if(!doc.getElementById){return queryXML(expr,root);}\nif(root===doc&&doc.querySelectorAll&&!/#/.test(expr)){try{return Q._toArray(doc.querySelectorAll(expr));}catch(ex){}}\nvar fn=cache[expr]||(cache[expr]=compile(expr));if(!inQuery){inQuery=true;if(!MUTATION){doc._Q_rev=Q.qid++;}\nret=fn(root);inQuery=false;}else{ret=fn(root);}\nreturn ret;}\nQ.qid=1;Q._byId=function(id,root){if(root.getElementById){return root.getElementById(id);}\nif(BY_ID1){return root.getElementsByTagName('*')[id];}\nvar node=root.ownerDocument.getElementById(id);if(node&&Q.contains(root,node)&&(!IE678||(node.id===id||node.getAttributeNode('id').nodeValue===id))){return node;}\nreturn null;};Q._in=function(nodes,nodeSet){var hash=Q._hash(nodeSet);var ret=[];for(var i=0;i<nodes.length;i++){var node=nodes[i];if(hash[node._Q_id||(node._Q_id=++Q.qid)]){ret.push(node);}}\nreturn ret;};Q.matches=function(expr,set){return Q(expr,null,null,set);};Q.contains=d.documentElement.contains?function(a,b){return a!==b&&a.contains(b);}:function(a,b){return a!==b&&a.compareDocumentPosition(b)&16;};Q._has=function(node,nodes){for(var i=0,tnode;tnode=nodes[i++];){if(!Q.contains(node,tnode))return false;}\nreturn true;};Q._index=function(node,a,b,rev){var parent=node.parentNode;if(parent._Q_magic!==rev){var tnode;var count=1;if(BY_ELEMENT){tnode=parent.firstElementChild;while(tnode){tnode._Q_index=count++;tnode=tnode.nextElementSibling;}}else{var nodes=parent.children||parent.childNodes;for(var i=0;tnode=nodes[i];i++){if(tnode.nodeType==1){tnode._Q_index=count++;}\ntnode=tnode.nextSibling;}}\nparent._Q_count1=count;parent._Q_magic=rev;}\nreturn a?(node._Q_index-b)%a==0:node._Q_index==b;};Q._isOnlyChild=function(node){return Q._isFirstChild(node)&&Q._isLastChild(node);};Q._isFirstChild=function(node){while(node=node.previousSibling){if(node.nodeType==1)return false;}\nreturn true;};Q._isLastChild=function(node){while(node=node.nextSibling){if(node.nodeType==1)return false;}\nreturn true;};Q._isXHTML=function(doc){return doc.documentElement.nodeName=='html';};function Q(expr,root,result,seed){root=root||d;var ret=query(expr,root);if(seed){ret=Q._in(seed,ret);}\nif(result){ret.push.apply(result,ret);}else{result=ret;}\nreturn result;}\nreturn Q;})(),\"dom\":function(value,obj){var element=null;var elements=[];var className=\"\";obj=obj||document;function getNodesByClassNames(aNodes,aClassNames){return aNodes.select(function(element){if(element.nodeName.charAt(0)==\"#\")return false;var className1=(element.getAttribute(\"class\")||element.getAttribute(\"className\")||\"\").trim();var classNames1=className1=\"\"?[]:className1.split(\" \");return aClassNames.belongTo(classNames1,true,true);});}\nfunction getChildNodesByClassNames(node,sTagName,aClassNames,sId){var nodes=(node||document).getElementsByTagName(sTagName||\"*\");var nodes1=[];for(var i=0;i<nodes.length;i++){var node1=nodes[i];if(node1.nodeName.charAt(0)==\"#\")continue;if(sId&&node1.getAttribute(\"id\")!=sId)continue;var className1=(node1.getAttribute(\"class\")||node1.getAttribute(\"className\")||\"\").trim();var classNames1=className1==\"\"?[]:className1.split(\" \");if(aClassNames.belongTo(classNames1,true,true)){nodes1[nodes1.length]=node1;}}\nreturn nodes1;}\nfunction getChildNodesById(node,sId){var nodes=(node||document).getElementsByTagName(\"*\");var nodes1=[];for(var i=0;i<nodes.length;i++){var node1=nodes[i];if(node1.nodeName.charAt(0)==\"#\")continue;if((node1.getAttribute(\"id\")||\"\")==sId){nodes1[nodes1.length]=node1;break;}}\nreturn nodes1;}\nfunction getChildNodesByName(node,sName){var nodes=(node||document).getElementsByTagName(\"*\");var nodes1=[],nodes2=[];var sName1=sName.toLowerCase();for(var i=0;i<nodes.length;i++){var node1=nodes[i];if(node1.nodeName.charAt(0)==\"#\")continue;if((node1.getAttribute(\"name\")||\"\").toLowerCase()==sName1){nodes1[nodes1.length]=node1;}\nif(!nodes2.length&&node1.getAttribute(\"id\")==sName){nodes2=[node1];}}\nreturn nodes1.length?nodes1:nodes2;}\nswitch(typeof(value)){case\"undefined\":break;case\"string\":var selector=value;var regElementSel=/^([^\\*\\.\\#\\[\\]\\s]*)((?:\\s*\\.[^\\*\\.\\#\\[\\]\\s]+)*)(\\s*#[^\\*\\.\\#\\[\\]]+[\\#]?)*$/;var regAttribSel=/^([^\\*\\.\\#\\[\\]]*)\\[([^\\*\\.\\#\\!\\*\\^\\$\\[\\]\\=]+)(([\\!|\\^|\\$]?\\=)\\'([^\\*\\'\\\"\\[\\]]+)\\')?\\]$/;var matchs=null;if(selector==\"\"){return null;}else if(selector==\"*\"){return Array.from(obj.getElementsByTagName(\"*\"));}else if(matchs=selector.match(regElementSel)){if(!matchs[1]&&!matchs[2]&&matchs[3]&&obj==document){if(matchs[3].slice(-1)==\"#\"){elements=document.getElementsByName(matchs[3].slice(1,-1));if(elements.length)return Array.from(elements);}\nelement=document.getElementById(matchs[3].slice(1));return element?[element]:[];}else{if(!matchs[1]){elements=[obj];}else{elements=obj.getElementsByTagName(matchs[1]);}\nif(matchs[2]){var elements1=[];var aClassNames=matchs[2].split(\".\").map(function(item){return item.trim();}).trim();for(var i=0;i<aClassNames.length;i++){for(var j=0,jLen=elements.length;j<jLen;j++){elements1.append(getChildNodesByClassNames(elements[j],\"\",[aClassNames[i]],\"\"));}\nelements=elements1.unique();elements1=[];}}\nif(matchs[3]){var isFindAll=matchs[3].slice(-1)==\"#\";var id=matchs[3].match(/\\s*\\#([^#]+)\\#?/)[1].trim();var elements1=[];if(!isFindAll){for(var j=0,jLen=elements.length;j<jLen;j++){elements1.append(getChildNodesById(elements[j],id));if(elements1.length)break;}\nelements=elements1;elements1=[];}else{for(var j=0,jLen=elements.length;j<jLen;j++){elements1.append(getChildNodesByName(elements[j],id));}\nelements=elements.length>1?elements1.unique():elements1;elements1=[];}}\nreturn Array.from(elements);}}else if(matchs=selector.match(regAttribSel)){var tagName=matchs[1];var attrName=matchs[2];var operate=matchs[4];var attrValue=matchs[5];var attrValue1;var atIndex;var elements1=[];elements=obj.getElementsByTagName(tagName||\"*\");if(!attrName){return Array.from(elements);}if(!attrValue){for(var i=0,iLen=elements.length;i<iLen;i++){element=elements[i];if(element.nodeName.charAt(0)==\"#\")continue;if(element.getAttribute(\"name\")!=null){elements1[elements1.length]=element;}}\nreturn elements1;}else{for(var i=0,iLen=elements.length;i<iLen;i++){element=elements[i];if(element.nodeName.charAt(0)==\"#\")continue;if(element.getAttribute(attrName)!=null){attrValue1=element.getAttribute(attrName).toString();switch(operate){case\"=\":if(attrValue1==attrValue){elements1[elements1.length]=element;}\nbreak;case\"!=\":if(attrValue1!=attrValue){elements1[elements1.length]=element;}\nbreak;case\"*=\":if(attrValue1.indexOf(attrValue)>=0){elements1[elements1.length]=element;}\nbreak;case\"^=\":if(attrValue1.indexOf(attrValue)==0){elements1[elements1.length]=element;}\nbreak;case\"$=\":atIndex=attrValue1.lastIndexOf(attrValue);if(atIndex>=0&&attrValue1.slice(atIndex)==attrValue){elements1[elements1.length]=element;}\nbreak;}}}\nreturn elements1;}}\nbreak;}\nreturn[];}})",
"shell/webbrowser/re.js" : "function(Engine,Global,rootHome){_jsre.loadClassLib(\"dom\");$import(\"js.detect.shell.Browser\");$import(\"js.dom.DOMWindow\");$import(\"js.dom.DOMElement\");$import(\"js.dom.HTML\");$import(\"js.dom.HTMLElement\");$import(\"js.dom.HTMLDocument\");var window=_jsre._engine._external;var _browserDir=rootHome+\"/\";switch(Global.Browser.Engine.name){case\"trident\":_browserDir+=\"ie\";break;case\"gecko\":_browserDir+=\"firefox\";break;case\"webkit\":if(Global.Browser.Platform.name==\"ios\"){_browserDir+=\"safari(ipad)\";}else{_browserDir+=\"(webkit)\";}\nbreak;case\"presto\":_browserDir+=\"opera\";break;}\nswitch(Global.Browser.Platform.name){case\"android\":window.showModalDialog=undefined;Global.Browser.Supports.modalDialog=false;break;}\ntry{eval(\"with(Global) {(\"+_jsre.getFileResource(_browserDir.right(_jsre._rootHome+\"/\")+\"/re.js\")+\")(_jsre._engine,Global.Browser,window,_browserDir);}\");}catch(ex){_jsre.logger.log(\"JSDK Initialize \"+Global.Browser.Engine.name+\" engine browser environment fail.\\nSource: \"+ex.message||ex);}}",
"shell/webbrowser/(webkit)/re.js" : "function(Engine,Browser,window,rootHome){_jsre._ce.addNamespace(\"global\",{STR_NewLine:\"\\n\"},true);_jsre.globalEval(_jsre.getFileResource(rootHome.right(_jsre._rootHome+\"/\")+\"/patch/patch-IE.js\"));js.dom.DOMWindow.applyInstance(window,\"copy\",true);js.dom.HTMLDocument.applyInstance(window.document,\"copy\",true);}",
"shell/webbrowser/(webkit)/patch/patch-IE.js" : "Object.defineProperty(CSSStyleDeclaration.prototype,\"styleFloat\",{get:function(){return this.cssFloat;},set:function($value){this.cssFloat=$value;}});Object.defineProperty(CSSStyleDeclaration.prototype,\"pixelLeft\",{get:function(){return parseInt(this.left)||0;},set:function($value){this.left=$value+\"px\";}});Object.defineProperty(CSSStyleDeclaration.prototype,\"pixelHeight\",{get:function(){return parseInt(this.height)||0;},set:function($value){this.height=$value+\"px\";}});Object.defineProperty(CSSStyleDeclaration.prototype,\"pixelTop\",{get:function(){return parseInt(this.top)||0;},set:function($value){this.top=$value+\"px\";}});Object.defineProperty(CSSStyleDeclaration.prototype,\"pixelWidth\",{get:function(){return parseInt(this.width)||0;},set:function($value){this.width=$value+\"px\";}});if(!window.constructor){}else if(window.constructor==Object){window.attachEvent=function($name,$handler){this.addEventListener($name.replace(/^on/,\"\"),$handler,false);};}else{window.constructor.prototype.attachEvent=function($name,$handler){this.addEventListener($name.replace(/^on/,\"\"),$handler,false);};if(!window.dialogArguments){window.constructor.prototype.__defineGetter__(\"dialogArguments\",function(){if(this.opener&&this.opener.__$activeDialog==this){return this.opener.__$activeDialogParameter.arguments;}});}}\nObject.defineProperty(HTMLDocument.prototype,\"all\",{get:function(){return this.getElementsByTagName(\"*\");}});Object.defineProperty(HTMLDocument.prototype,\"frames\",{get:function(){return window.frames;}});Object.defineProperty(HTMLDocument.prototype,\"$activeElement\",{get:function(){return event.target==this?null:event.target;}});HTMLDocument.prototype.createEventObject=function(){return this.createEvent(\"Events\");};Object.defineProperty(HTMLElement.prototype,\"all\",{get:function(){return this.getElementsByTagName(\"*\");}});Object.defineProperty(HTMLElement.prototype,\"parentElement\",{get:function(){return(this.parentNode==this.ownerDocument)?null:this.parentNode;}});Object.defineProperty(HTMLElement.prototype,\"uniqueID\",{get:function(){if(!arguments.callee.count)arguments.callee.count=0;var $uniqueID=\"moz_id\"+arguments.callee.count++;window[$uniqueID]=this;this.__defineGetter__(\"uniqueID\",function(){return $uniqueID});return $uniqueID;}});Object.defineProperty(HTMLElement.prototype,\"currentStyle\",{get:function(){return getComputedStyle(this,null);}});Object.defineProperty(HTMLElement.prototype,\"runtimeStyle\",{get:function(){return this.style;}});Object.defineProperty(HTMLElement.prototype,\"canHaveChildren\",{get:function(){switch(this.tagName.toLowerCase()){case\"area\":case\"base\":case\"basefont\":case\"col\":case\"frame\":case\"hr\":case\"img\":case\"br\":case\"input\":case\"isindex\":case\"link\":case\"meta\":case\"param\":return false;}\nreturn true;}});Object.defineProperty(HTMLElement.prototype,\"outerHTML\",{get:function(){var attr;var attrs=this.attributes;var str=\"<\"+this.tagName;for(var i=0;i<attrs.length;i++){attr=attrs[i];if(attr.specified)str+=\" \"+attr.name+'=\"'+attr.value+'\"';}\nif(!this.canHaveChildren)return str+\">\";return str+\">\"+this.innerHTML+\"</\"+this.tagName+\">\";},set:function(sHTML){var r=this.ownerDocument.createRange();r.setStartBefore(this);var df=r.createContextualFragment(sHTML);this.parentNode.replaceChild(df,this);return sHTML;}});Object.defineProperty(HTMLElement.prototype,\"outerText\",{get:function(){var r=this.ownerDocument.createRange();r.selectNodeContents(this);return r.toString();},set:function(sText){var parsedText=document.createTextNode(sText);this.outerHTML=parsedText;return parsedText;}});Object.defineProperty(HTMLElement.prototype,\"innerText\",{get:function(){return this.textContent;},set:function($value){this.textContent=$value;}});Object.defineProperty(HTMLElement.prototype,\"$firstChild\",{get:function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(HTMLElement.prototype,\"$nextSibling\",{get:function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;}});Object.defineProperty(HTMLElement.prototype,\"$previousSibling\",{get:function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;}});Object.defineProperty(HTMLElement.prototype,\"$lastChild\",{get:function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});HTMLElement.prototype.attachEvent=function($name,$handler){this.addEventListener($name.replace(/^on/,\"\"),$handler,false);};HTMLElement.prototype.removeEvent=function($name,$handler){this.removeEventListener($name.replace(/^on/,\"\"),$handler,false);};HTMLElement.prototype.createEventObject=function(){return this.ownerDocument.createEventObject();};HTMLElement.prototype.fireEvent=function($name,$event){if(!$event)$event=this.ownerDocument.createEvent(\"Events\");var evt=null;if($event.constructor==Event){evt=this.ownerDocument.createEvent(\"Events\");evt.initEvent($name.replace(/^on/,\"\"),$event.bubbles,$event.cancelable);}else if($event.constructor==MouseEvent){evt=this.ownerDocument.createEvent(\"MouseEvents\");evt.initMouseEvent($name.replace(/^on/,\"\"),$event.bubbles,$event.cancelable,$event.view,$event.detail,$event.screenX,$event.screenY,$event.clientX,$event.clientY,$event.ctrlKey,$event.altKey,$event.shiftKey,$event.metaKey,$event.button,$event.relatedTarget\n);}else if($event.constructor==UIEvent){evt=this.ownerDocument.createEvent(\"UIEvents\");evt.initUIEvent($name.replace(/^on/,\"\"),$event.bubbles,$event.view,$event.detail);}else{return;}\nthis.dispatchEvent(evt);};HTMLElement.prototype.contains=function($element){return Boolean($element==this||($element&&this.contains($element.parentElement)));};(function(){if(HTMLElement.prototype.click){return;}\nHTMLElement.prototype.click=function(){var evt=document.createEvent(\"MouseEvents\");evt.initEvent(\"click\",true,true);this.dispatchEvent(evt);};})();Object.defineProperty(Event.prototype,\"srcElement\",{get:function(){return(this.target.nodeType==Node.ELEMENT_NODE)?this.target:this.target.parentNode;}});Object.defineProperty(Event.prototype,\"fromElement\",{get:function(){return(this.type==\"mouseover\")?this.relatedTarget:(this.type==\"mouseout\")?this.srcElement:null;}});Object.defineProperty(Event.prototype,\"toElement\",{get:function(){return(this.type==\"mouseout\")?this.relatedTarget:(this.type==\"mouseover\")?this.srcElement:null;}});Object.defineProperty(Event.prototype,\"button\",{get:function(){return(this.which==1)?1:(this.which==2)?4:2;}});Object.defineProperty(Event.prototype,\"returnValue\",{get:function(){return true;},set:function($value){if(this.cancelable&&!$value){this.preventDefault();this.__defineGetter__(\"returnValue\",function(){return false;});}}});Object.defineProperty(Event.prototype,\"cancelBubble\",{set:function($value){if($value)this.stopPropagation();}});Object.defineProperty(Event.prototype,\"offsetX\",{get:function(){return this.layerX;}});Object.defineProperty(Event.prototype,\"offsetY\",{get:function(){return this.layerY;}});Object.defineProperty(XMLDocument.prototype,\"xml\",{get:function(){try{return new XMLSerializer().serializeToString(this);}catch(ex){var d=document.createElement(\"div\");d.appendChild(this.cloneNode(true));return d.innerHTML;}}});Object.defineProperty(XMLDocument.prototype,\"text\",{get:function(){return this.firstChild.textContent.replace(/^[\\s\\r\\n]*/g,'').replace(/[\\s\\r\\n]*$/g,'');}});XMLDocument.prototype.selectSingleNode=function(xpath){var x=this.selectNodes(xpath);if(!x.length)return null;return x[0];}\nXMLDocument.prototype.selectNodes=function(xpath){var xpe=new XPathEvaluator();var nsResolver=xpe.createNSResolver(this.ownerDocument==null?this.documentElement:this.ownerDocument.documentElement);var result=xpe.evaluate(xpath,this,nsResolver,0,null);var found=[];var res;while(res=result.iterateNext())found.push(res);return found;}\nObject.defineProperty(XMLDocument.prototype,\"$childNodes\",{get:function(){var retValues=[];var childNodes=this.childNodes;for(var i=0,iLen=childNodes.length;i<iLen;i++){if(childNodes[i].nodeName==\"#text\")continue;retValues[retValues.length]=childNodes[i];}\nreturn retValues;}});Object.defineProperty(XMLDocument.prototype,\"$firstChild\",{get:function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(XMLDocument.prototype,\"$nextSibling\",{get:function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;}});Object.defineProperty(XMLDocument.prototype,\"$previousSibling\",{get:function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;}});Object.defineProperty(XMLDocument.prototype,\"$lastChild\",{get:function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});XMLDocument.prototype.loadXML=function(xmlString){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--)this.removeChild(childNodes[i]);var dp=new DOMParser();var newDOM=dp.parseFromString(xmlString,\"text/xml\");var newElt=this.importNode(newDOM.documentElement,true);this.appendChild(newElt);};Object.defineProperty(Element.prototype,\"xml\",{get:function(){try{return new XMLSerializer().serializeToString(this);}catch(ex){var d=document.createElement(\"div\");d.appendChild(this.cloneNode(true));return d.innerHTML;}}});Object.defineProperty(Element.prototype,\"text\",{get:function(){return this.textContent.replace(/^[\\s\\r\\n]*/g,'').replace(/[\\s\\r\\n]*$/g,'');}});Element.prototype.selectSingleNode=XMLDocument.prototype.selectSingleNode;Element.prototype.selectNodes=XMLDocument.prototype.selectNodes;Object.defineProperty(Node.prototype,\"$childNodes\",{get:function(){var retValues=[];var childNodes=this.childNodes;for(var i=0,iLen=childNodes.length;i<iLen;i++){if(childNodes[i].nodeName==\"#text\")continue;retValues[retValues.length]=childNodes[i];}\nreturn retValues;}});Object.defineProperty(Node.prototype,\"$firstChild\",{get:function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(Node.prototype,\"$nextSibling\",{get:function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;}});Object.defineProperty(Node.prototype,\"$previousSibling\",{get:function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;}});Object.defineProperty(Node.prototype,\"$lastChild\",{get:function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});",
"shell/webbrowser/ie/re.js" : "function(Engine,Browser,window,rootHome){_jsre._ce.addNamespace(\"global\",{STR_NewLine:\"\\r\\n\"},true);if(Browser.Engine.version>=5&&window.constructor){_jsre.globalEval(_jsre.getFileResource(rootHome.right(_jsre._rootHome+\"/\")+\"/patch/IE9+-patch-std.js\"));js.dom.DOMWindow.applyInstance(window,\"copy\",true);js.dom.HTMLDocument.applyInstance(window.document,\"copy\",true);}else if(Browser.Engine.version>=4&&window.constructor){_jsre.globalEval(_jsre.getFileResource(rootHome.right(_jsre._rootHome+\"/\")+\"/patch/IE8+-patch-std.js\"));js.dom.DOMWindow.applyInstance(window,\"copy\",true);js.dom.HTMLDocument.applyInstance(window.document,\"copy\",true);}else{js.dom.DOMWindow.applyInstance(window,\"instance\",true);js.dom.HTMLDocument.applyInstance(window.document,\"instance\",true);}}",
"shell/webbrowser/ie/patch/IE8+-patch-std.js" : "(function(){if(typeof(Element)!=\"undefined\"){Object.defineProperty(Element.prototype,\"$childNodes\",{get:function(){var retValues=[];var childNodes=this.childNodes;for(var i=0,iLen=childNodes.length;i<iLen;i++){if(childNodes[i].nodeName==\"#text\")continue;retValues[retValues.length]=childNodes[i];}\nreturn retValues;}});Object.defineProperty(Element.prototype,\"$firstChild\",{get:function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(Element.prototype,\"$nextSibling\",{get:function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;}});Object.defineProperty(Element.prototype,\"$previousSibling\",{get:function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;}});Object.defineProperty(Element.prototype,\"$lastChild\",{get:function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});}\nif(typeof(Node)!=\"undefined\"){Object.defineProperty(Node.prototype,\"$childNodes\",{get:function(){var retValues=[];var childNodes=this.childNodes;for(var i=0,iLen=childNodes.length;i<iLen;i++){if(childNodes[i].nodeName==\"#text\")continue;retValues[retValues.length]=childNodes[i];}\nreturn retValues;}});Object.defineProperty(Node.prototype,\"$firstChild\",{get:function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(Node.prototype,\"$nextSibling\",{get:function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;}});Object.defineProperty(Node.prototype,\"$previousSibling\",{get:function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;}});Object.defineProperty(Node.prototype,\"$lastChild\",{get:function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});}})();",
"shell/webbrowser/ie/patch/IE9+-patch-std.js" : "(function(){if(typeof(Element)!=\"undefined\"){Object.defineProperty(Element.prototype,\"$childNodes\",{get:function(){var retValues=[];var childNodes=this.childNodes;for(var i=0,iLen=childNodes.length;i<iLen;i++){if(childNodes[i].nodeName==\"#text\")continue;retValues[retValues.length]=childNodes[i];}\nreturn retValues;}});Object.defineProperty(Element.prototype,\"$firstChild\",{get:function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(Element.prototype,\"$nextSibling\",{get:function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;}});Object.defineProperty(Element.prototype,\"$previousSibling\",{get:function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;}});Object.defineProperty(Element.prototype,\"$lastChild\",{get:function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(Element.prototype,\"xml\",{get:function(){try{return new XMLSerializer().serializeToString(this);}catch(ex){var d=document.createElement(\"div\");d.appendChild(this.cloneNode(true));return d.innerHTML;}}});Object.defineProperty(Element.prototype,\"text\",{get:function(){return this.textContent.replace(/^[\\s\\r\\n]*/g,'').replace(/[\\s\\r\\n]*$/g,'');}});}\nif(typeof(Node)!=\"undefined\"){Object.defineProperty(Node.prototype,\"$childNodes\",{get:function(){var retValues=[];var childNodes=this.childNodes;for(var i=0,iLen=childNodes.length;i<iLen;i++){if(childNodes[i].nodeName==\"#text\")continue;retValues[retValues.length]=childNodes[i];}\nreturn retValues;}});Object.defineProperty(Node.prototype,\"$firstChild\",{get:function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(Node.prototype,\"$nextSibling\",{get:function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;}});Object.defineProperty(Node.prototype,\"$previousSibling\",{get:function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;}});Object.defineProperty(Node.prototype,\"$lastChild\",{get:function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Node.prototype.selectSingleNode=function(xpath){var x=this.selectNodes(xpath);if(!x.length)return null;return x[0];}\nNode.prototype.selectNodes=function(xpath){var _xml=new XMLSerializer().serializeToString(this);var _xmlDom=__JSDK_Namespace__._xmlDom;_xmlDom.loadXML(_xml.replace(/^[\\s\\r\\n]*/g,'').replace(/<![^<|>]*>/g,\"\"));return _xmlDom.selectNodes(xpath);}}})();",
"shell/webbrowser/firefox/re.js" : "function(Engine,Browser,window,rootHome){_jsre._ce.addNamespace(\"global\",{STR_NewLine:\"\\n\"},true);_jsre.globalEval(_jsre.getFileResource(rootHome.right(_jsre._rootHome+\"/\")+\"/patch/patch-IE.js\"));js.dom.DOMWindow.applyInstance(window,\"copy\",true);js.dom.HTMLDocument.applyInstance(window.document,\"copy\",true);}",
"shell/webbrowser/firefox/patch/patch-IE.js" : "CSSStyleDeclaration.prototype.__defineGetter__(\"styleFloat\",function(){return this.cssFloat;});CSSStyleDeclaration.prototype.__defineSetter__(\"styleFloat\",function($value){this.cssFloat=$value;});CSSStyleDeclaration.prototype.__defineGetter__(\"pixelLeft\",function(){return parseInt(this.left)||0;});CSSStyleDeclaration.prototype.__defineSetter__(\"pixelLeft\",function($value){this.left=$value+\"px\";});CSSStyleDeclaration.prototype.__defineGetter__(\"pixelHeight\",function(){return parseInt(this.height)||0;});CSSStyleDeclaration.prototype.__defineSetter__(\"pixelHeight\",function($value){this.height=$value+\"px\";});CSSStyleDeclaration.prototype.__defineGetter__(\"pixelTop\",function(){return parseInt(this.top)||0;});CSSStyleDeclaration.prototype.__defineSetter__(\"pixelTop\",function($value){this.top=$value+\"px\";});CSSStyleDeclaration.prototype.__defineGetter__(\"pixelWidth\",function(){return parseInt(this.width)||0;});CSSStyleDeclaration.prototype.__defineSetter__(\"pixelWidth\",function($value){this.width=$value+\"px\";});window.constructor.prototype.attachEvent=function($name,$handler){this.addEventListener($name.replace(/^on/,\"\"),$handler,false);};window.constructor.prototype.__defineGetter__(\"event\",function(){var o=arguments.callee.caller;var e,last,i=10;try{while(o!=null&&o!=last&&i>0){last=o;i--;e=o.arguments[0];if(e&&(e instanceof Event))return e;o=o.caller;}}catch(e){}\nreturn null;});HTMLDocument.prototype.__defineGetter__(\"all\",function(){return this.getElementsByTagName(\"*\");});HTMLDocument.prototype.__defineGetter__(\"scripts\",function(){return this.getElementsByTagName(\"SCRIPT\");});HTMLDocument.prototype.__defineGetter__(\"frames\",function(){return window.frames;});HTMLDocument.prototype.__defineGetter__(\"activeElement\",function(){return window.event.explicitOriginalTarget;});HTMLDocument.prototype.__defineGetter__(\"$activeElement\",function(){return window.event.explicitOriginalTarget;});HTMLDocument.prototype.createEventObject=function(){return document.createEvent(\"Events\");};HTMLElement.prototype.__defineGetter__(\"all\",function(){return this.getElementsByTagName(\"*\");});HTMLElement.prototype.__defineGetter__(\"parentElement\",function(){return(this.parentNode==this.ownerDocument)?null:this.parentNode;});HTMLElement.prototype.__defineGetter__(\"uniqueID\",function(){if(!arguments.callee.count)arguments.callee.count=0;var $uniqueID=\"moz_id\"+arguments.callee.count++;window[$uniqueID]=this;this.__defineGetter__(\"uniqueID\",function(){return $uniqueID});return $uniqueID;});HTMLElement.prototype.__defineGetter__(\"currentStyle\",function(){return getComputedStyle(this,null);});HTMLElement.prototype.__defineGetter__(\"runtimeStyle\",function(){return this.style;});HTMLElement.prototype.__defineGetter__(\"canHaveChildren\",function(){switch(this.tagName.toLowerCase()){case\"area\":case\"base\":case\"basefont\":case\"col\":case\"frame\":case\"hr\":case\"img\":case\"br\":case\"input\":case\"isindex\":case\"link\":case\"meta\":case\"param\":return false;}\nreturn true;});HTMLElement.prototype.__defineGetter__(\"outerHTML\",function(){var attr;var attrs=this.attributes;var str=\"<\"+this.tagName;for(var i=0;i<attrs.length;i++){attr=attrs[i];if(attr.specified)str+=\" \"+attr.name+'=\"'+attr.value+'\"';}\nif(!this.canHaveChildren)return str+\">\";return str+\">\"+this.innerHTML+\"</\"+this.tagName+\">\";});HTMLElement.prototype.__defineSetter__(\"outerHTML\",function(sHTML){var r=this.ownerDocument.createRange();r.setStartBefore(this);var df=r.createContextualFragment(sHTML);this.parentNode.replaceChild(df,this);return sHTML;});HTMLElement.prototype.__defineGetter__(\"outerText\",function(){var r=this.ownerDocument.createRange();r.selectNodeContents(this);return r.toString();});HTMLElement.prototype.__defineSetter__(\"outerText\",function(sText){var parsedText=document.createTextNode(sText);this.outerHTML=parsedText;return parsedText;});HTMLElement.prototype.__defineGetter__(\"innerText\",function(){return this.textContent;});HTMLElement.prototype.__defineSetter__(\"innerText\",function($value){this.textContent=$value;});if(!HTMLElement.prototype.insertAdjacentElement){HTMLElement.prototype.insertAdjacentElement=function(where,parsedNode){switch(where){case'beforeBegin':return this.parentNode.insertBefore(parsedNode,this);break;case'afterBegin':return this.insertBefore(parsedNode,this.firstChild);break;case'beforeEnd':return this.appendChild(parsedNode);break;case'afterEnd':if(this.nextSibling)return this.parentNode.insertBefore(parsedNode,this.nextSibling);else return this.parentNode.appendChild(parsedNode);break;}}}\nif(!HTMLElement.prototype.insertAdjacentHTML){HTMLElement.prototype.insertAdjacentHTML=function(where,htmlStr){var r=this.ownerDocument.createRange();r.setStartBefore(this);var parsedHTML=r.createContextualFragment(htmlStr);this.insertAdjacentElement(where,parsedHTML);}}\nif(!HTMLElement.prototype.insertAdjacentText){HTMLElement.prototype.insertAdjacentText=function(where,txtStr){var parsedText=document.createTextNode(txtStr);this.insertAdjacentElement(where,parsedText);}}\nHTMLElement.prototype.__defineGetter__(\"$firstChild\",function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}});HTMLElement.prototype.__defineGetter__(\"$nextSibling\",function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;});HTMLElement.prototype.__defineGetter__(\"$previousSibling\",function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;});HTMLElement.prototype.__defineGetter__(\"$lastChild\",function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}});HTMLElement.prototype.attachEvent=function($name,$handler){this.addEventListener($name.replace(/^on/,\"\"),$handler,false);};HTMLElement.prototype.removeEvent=function($name,$handler){this.removeEventListener($name.replace(/^on/,\"\"),$handler,false);};HTMLElement.prototype.createEventObject=function(){return this.ownerDocument.createEventObject();};HTMLElement.prototype.fireEvent=function($name,$event){if(!$event)$event=this.ownerDocument.createEvent(\"Events\");var evt=null;if($event.constructor==Event){evt=this.ownerDocument.createEvent(\"Events\");evt.initEvent($name.replace(/^on/,\"\"),$event.bubbles,$event.cancelable);}else if($event.constructor==MouseEvent){evt=this.ownerDocument.createEvent(\"MouseEvents\");evt.initMouseEvent($name.replace(/^on/,\"\"),$event.bubbles,$event.cancelable,$event.view,$event.detail,$event.screenX,$event.screenY,$event.clientX,$event.clientY,$event.ctrlKey,$event.altKey,$event.shiftKey,$event.metaKey,$event.button,$event.relatedTarget\n);}else if($event.constructor==UIEvent){evt=this.ownerDocument.createEvent(\"UIEvents\");evt.initUIEvent($name.replace(/^on/,\"\"),$event.bubbles,$event.view,$event.detail);}else{return;}\nthis.dispatchEvent(evt);};HTMLElement.prototype.contains=function($element){return Boolean($element==this||($element&&this.contains($element.parentElement)));};(function(){if(HTMLElement.prototype.click){return;}\nHTMLElement.prototype.click=function(){var evt=document.createEvent(\"MouseEvents\");evt.initEvent(\"click\",true,true);this.dispatchEvent(evt);};})();Event.prototype.__defineGetter__(\"srcElement\",function(){return(this.target.nodeType==Node.ELEMENT_NODE)?this.target:this.target.parentNode;});Event.prototype.__defineGetter__(\"fromElement\",function(){return(this.type==\"mouseover\")?this.relatedTarget:(this.type==\"mouseout\")?this.srcElement:null;});Event.prototype.__defineGetter__(\"toElement\",function(){return(this.type==\"mouseout\")?this.relatedTarget:(this.type==\"mouseover\")?this.srcElement:null;});Event.prototype.__defineGetter__(\"button\",function(){return(this.which==1)?1:(this.which==2)?4:2;});Event.prototype.__defineGetter__(\"returnValue\",function(){return true;});Event.prototype.__defineSetter__(\"returnValue\",function($value){if(this.cancelable&&!$value){this.preventDefault();this.__defineGetter__(\"returnValue\",function(){return false;});}});Event.prototype.__defineSetter__(\"cancelBubble\",function($value){if($value)this.stopPropagation();});Event.prototype.__defineGetter__(\"offsetX\",function(){return this.layerX;});Event.prototype.__defineGetter__(\"offsetY\",function(){return this.layerY;});XMLDocument.prototype.__proto__.__defineGetter__(\"xml\",function(){try{return new XMLSerializer().serializeToString(this);}catch(ex){var d=document.createElement(\"div\");d.appendChild(this.cloneNode(true));return d.innerHTML;}});XMLDocument.prototype.__proto__.__defineGetter__(\"text\",function(){return this.firstChild.textContent.replace(/^[\\s\\r\\n]*/g,'').replace(/[\\s\\r\\n]*$/g,'');});XMLDocument.prototype.selectSingleNode=function(xpath){var x=this.selectNodes(xpath);if(!x.length)return null;return x[0];}\nXMLDocument.prototype.selectNodes=function(xpath){var xpe=new XPathEvaluator();var nsResolver=xpe.createNSResolver(this.ownerDocument==null?this.documentElement:this.ownerDocument.documentElement);var result=xpe.evaluate(xpath,this,nsResolver,0,null);var found=[];var res;while(res=result.iterateNext())found.push(res);return found;}\nXMLDocument.prototype.__proto__.__defineGetter__(\"$childNodes\",function(){var retValues=[];var childNodes=this.childNodes;for(var i=0,iLen=childNodes.length;i<iLen;i++){if(childNodes[i].nodeName==\"#text\")continue;retValues[retValues.length]=childNodes[i];}\nreturn retValues;});XMLDocument.prototype.__proto__.__defineGetter__(\"$firstChild\",function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}});XMLDocument.prototype.__proto__.__defineGetter__(\"$nextSibling\",function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;});XMLDocument.prototype.__proto__.__defineGetter__(\"$previousSibling\",function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;});XMLDocument.prototype.__proto__.__defineGetter__(\"$lastChild\",function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}});XMLDocument.prototype.loadXML=function(xmlString){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--)this.removeChild(childNodes[i]);var dp=new DOMParser();var newDOM=dp.parseFromString(xmlString,\"text/xml\");var newElt=this.importNode(newDOM.documentElement,true);this.appendChild(newElt);};Element.prototype.__proto__.__defineGetter__(\"xml\",function(){try{return new XMLSerializer().serializeToString(this);}catch(ex){var d=document.createElement(\"div\");d.appendChild(this.cloneNode(true));return d.innerHTML;}});Element.prototype.__proto__.__defineGetter__(\"text\",function(){return this.textContent.replace(/^[\\s\\r\\n]*/g,'').replace(/[\\s\\r\\n]*$/g,'');});Element.prototype.selectSingleNode=XMLDocument.prototype.selectSingleNode;Element.prototype.selectNodes=XMLDocument.prototype.selectNodes;Element.prototype.__proto__.__defineGetter__(\"$childNodes\",function(){var retValues=[];var childNodes=this.childNodes;for(var i=0,iLen=childNodes.length;i<iLen;i++){if(childNodes[i].nodeName==\"#text\")continue;retValues[retValues.length]=childNodes[i];}\nreturn retValues;});Element.prototype.__proto__.__defineGetter__(\"$firstChild\",function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}});Element.prototype.__proto__.__defineGetter__(\"$nextSibling\",function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;});Element.prototype.__proto__.__defineGetter__(\"$previousSibling\",function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;});Element.prototype.__proto__.__defineGetter__(\"$lastChild\",function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}});",
"shell/webbrowser/safari(ipad)/re.js" : "function(Engine,Browser,window,rootHome){_jsre._ce.addNamespace(\"global\",{STR_NewLine:\"\\n\"},true);_jsre.globalEval(_jsre.getFileResource(rootHome.right(_jsre._rootHome+\"/\")+\"/patch/patch-IE.js\"));js.dom.DOMWindow.applyInstance(window,\"copy\",true);js.dom.HTMLDocument.applyInstance(window.document,\"copy\",true);}",
"shell/webbrowser/safari(ipad)/patch/patch-IE.js" : "Object.defineProperty(CSSStyleDeclaration.prototype,\"styleFloat\",{get:function(){return this.cssFloat;},set:function($value){this.cssFloat=$value;}});Object.defineProperty(CSSStyleDeclaration.prototype,\"pixelLeft\",{get:function(){return parseInt(this.left)||0;},set:function($value){this.left=$value+\"px\";}});Object.defineProperty(CSSStyleDeclaration.prototype,\"pixelHeight\",{get:function(){return parseInt(this.height)||0;},set:function($value){this.height=$value+\"px\";}});Object.defineProperty(CSSStyleDeclaration.prototype,\"pixelTop\",{get:function(){return parseInt(this.top)||0;},set:function($value){this.top=$value+\"px\";}});Object.defineProperty(CSSStyleDeclaration.prototype,\"pixelWidth\",{get:function(){return parseInt(this.width)||0;},set:function($value){this.width=$value+\"px\";}});if(!window.constructor){}else if(window.constructor==Object){window.attachEvent=function($name,$handler){this.addEventListener($name.replace(/^on/,\"\"),$handler,false);};}else{window.constructor.prototype.attachEvent=function($name,$handler){this.addEventListener($name.replace(/^on/,\"\"),$handler,false);};if(!window.dialogArguments){window.constructor.prototype.__defineGetter__(\"dialogArguments\",function(){if(this.opener&&this.opener.__$activeDialog==this){return this.opener.__$activeDialogParameter.arguments;}});}}\nObject.defineProperty(HTMLDocument.prototype,\"all\",{get:function(){return this.getElementsByTagName(\"*\");}});Object.defineProperty(HTMLDocument.prototype,\"frames\",{get:function(){return window.frames;}});Object.defineProperty(HTMLDocument.prototype,\"$activeElement\",{get:function(){return event.target==this?null:event.target;}});HTMLDocument.prototype.createEventObject=function(){return this.createEvent(\"Events\");};Object.defineProperty(HTMLElement.prototype,\"all\",{get:function(){return this.getElementsByTagName(\"*\");}});Object.defineProperty(HTMLElement.prototype,\"parentElement\",{get:function(){return(this.parentNode==this.ownerDocument)?null:this.parentNode;}});Object.defineProperty(HTMLElement.prototype,\"uniqueID\",{get:function(){if(!arguments.callee.count)arguments.callee.count=0;var $uniqueID=\"moz_id\"+arguments.callee.count++;window[$uniqueID]=this;this.__defineGetter__(\"uniqueID\",function(){return $uniqueID});return $uniqueID;}});Object.defineProperty(HTMLElement.prototype,\"currentStyle\",{get:function(){return getComputedStyle(this,null);}});Object.defineProperty(HTMLElement.prototype,\"runtimeStyle\",{get:function(){return this.style;}});Object.defineProperty(HTMLElement.prototype,\"canHaveChildren\",{get:function(){switch(this.tagName.toLowerCase()){case\"area\":case\"base\":case\"basefont\":case\"col\":case\"frame\":case\"hr\":case\"img\":case\"br\":case\"input\":case\"isindex\":case\"link\":case\"meta\":case\"param\":return false;}\nreturn true;}});Object.defineProperty(HTMLElement.prototype,\"outerHTML\",{get:function(){var attr;var attrs=this.attributes;var str=\"<\"+this.tagName;for(var i=0;i<attrs.length;i++){attr=attrs[i];if(attr.specified)str+=\" \"+attr.name+'=\"'+attr.value+'\"';}\nif(!this.canHaveChildren)return str+\">\";return str+\">\"+this.innerHTML+\"</\"+this.tagName+\">\";},set:function(sHTML){var r=this.ownerDocument.createRange();r.setStartBefore(this);var df=r.createContextualFragment(sHTML);this.parentNode.replaceChild(df,this);return sHTML;}});Object.defineProperty(HTMLElement.prototype,\"outerText\",{get:function(){var r=this.ownerDocument.createRange();r.selectNodeContents(this);return r.toString();},set:function(sText){var parsedText=document.createTextNode(sText);this.outerHTML=parsedText;return parsedText;}});Object.defineProperty(HTMLElement.prototype,\"innerText\",{get:function(){return this.textContent;},set:function($value){this.textContent=$value;}});Object.defineProperty(HTMLElement.prototype,\"$firstChild\",{get:function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(HTMLElement.prototype,\"$nextSibling\",{get:function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;}});Object.defineProperty(HTMLElement.prototype,\"$previousSibling\",{get:function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;}});Object.defineProperty(HTMLElement.prototype,\"$lastChild\",{get:function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});HTMLElement.prototype.attachEvent=function($name,$handler){this.addEventListener($name.replace(/^on/,\"\"),$handler,false);};HTMLElement.prototype.removeEvent=function($name,$handler){this.removeEventListener($name.replace(/^on/,\"\"),$handler,false);};HTMLElement.prototype.createEventObject=function(){return this.ownerDocument.createEventObject();};HTMLElement.prototype.fireEvent=function($name,$event){if(!$event)$event=this.ownerDocument.createEvent(\"Events\");var evt=null;if($event.constructor==Event){evt=this.ownerDocument.createEvent(\"Events\");evt.initEvent($name.replace(/^on/,\"\"),$event.bubbles,$event.cancelable);}else if($event.constructor==MouseEvent){evt=this.ownerDocument.createEvent(\"MouseEvents\");evt.initMouseEvent($name.replace(/^on/,\"\"),$event.bubbles,$event.cancelable,$event.view,$event.detail,$event.screenX,$event.screenY,$event.clientX,$event.clientY,$event.ctrlKey,$event.altKey,$event.shiftKey,$event.metaKey,$event.button,$event.relatedTarget\n);}else if($event.constructor==UIEvent){evt=this.ownerDocument.createEvent(\"UIEvents\");evt.initUIEvent($name.replace(/^on/,\"\"),$event.bubbles,$event.view,$event.detail);}else{return;}\nthis.dispatchEvent(evt);};HTMLElement.prototype.contains=function($element){return Boolean($element==this||($element&&this.contains($element.parentElement)));};(function(){if(HTMLElement.prototype.click){return;}\nHTMLElement.prototype.click=function(){var evt=document.createEvent(\"MouseEvents\");evt.initEvent(\"click\",true,true);this.dispatchEvent(evt);};})();Object.defineProperty(Event.prototype,\"srcElement\",{get:function(){return(this.target.nodeType==Node.ELEMENT_NODE)?this.target:this.target.parentNode;}});Object.defineProperty(Event.prototype,\"fromElement\",{get:function(){return(this.type==\"mouseover\")?this.relatedTarget:(this.type==\"mouseout\")?this.srcElement:null;}});Object.defineProperty(Event.prototype,\"toElement\",{get:function(){return(this.type==\"mouseout\")?this.relatedTarget:(this.type==\"mouseover\")?this.srcElement:null;}});Object.defineProperty(Event.prototype,\"button\",{get:function(){return(this.which==1)?1:(this.which==2)?4:2;}});Object.defineProperty(Event.prototype,\"returnValue\",{get:function(){return true;},set:function($value){if(this.cancelable&&!$value){this.preventDefault();this.__defineGetter__(\"returnValue\",function(){return false;});}}});Object.defineProperty(Event.prototype,\"cancelBubble\",{set:function($value){if($value)this.stopPropagation();}});Object.defineProperty(Event.prototype,\"offsetX\",{get:function(){return this.layerX;}});Object.defineProperty(Event.prototype,\"offsetY\",{get:function(){return this.layerY;}});Object.defineProperty(XMLDocument.prototype,\"xml\",{get:function(){try{return new XMLSerializer().serializeToString(this);}catch(ex){var d=document.createElement(\"div\");d.appendChild(this.cloneNode(true));return d.innerHTML;}}});Object.defineProperty(XMLDocument.prototype,\"text\",{get:function(){return this.firstChild.textContent.replace(/^[\\s\\r\\n]*/g,'').replace(/[\\s\\r\\n]*$/g,'');}});XMLDocument.prototype.selectSingleNode=function(xpath){var x=this.selectNodes(xpath);if(!x.length)return null;return x[0];}\nXMLDocument.prototype.selectNodes=function(xpath){var xpe=new XPathEvaluator();var nsResolver=xpe.createNSResolver(this.ownerDocument==null?this.documentElement:this.ownerDocument.documentElement);var result=xpe.evaluate(xpath,this,nsResolver,0,null);var found=[];var res;while(res=result.iterateNext())found.push(res);return found;}\nObject.defineProperty(XMLDocument.prototype,\"$childNodes\",{get:function(){var retValues=[];var childNodes=this.childNodes;for(var i=0,iLen=childNodes.length;i<iLen;i++){if(childNodes[i].nodeName==\"#text\")continue;retValues[retValues.length]=childNodes[i];}\nreturn retValues;}});Object.defineProperty(XMLDocument.prototype,\"$firstChild\",{get:function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(XMLDocument.prototype,\"$nextSibling\",{get:function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;}});Object.defineProperty(XMLDocument.prototype,\"$previousSibling\",{get:function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;}});Object.defineProperty(XMLDocument.prototype,\"$lastChild\",{get:function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});XMLDocument.prototype.loadXML=function(xmlString){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--)this.removeChild(childNodes[i]);var dp=new DOMParser();var newDOM=dp.parseFromString(xmlString,\"text/xml\");var newElt=this.importNode(newDOM.documentElement,true);this.appendChild(newElt);};Object.defineProperty(Element.prototype,\"xml\",{get:function(){try{return new XMLSerializer().serializeToString(this);}catch(ex){var d=document.createElement(\"div\");d.appendChild(this.cloneNode(true));return d.innerHTML;}}});Object.defineProperty(Element.prototype,\"text\",{get:function(){return this.textContent.replace(/^[\\s\\r\\n]*/g,'').replace(/[\\s\\r\\n]*$/g,'');}});Element.prototype.selectSingleNode=XMLDocument.prototype.selectSingleNode;Element.prototype.selectNodes=XMLDocument.prototype.selectNodes;Object.defineProperty(Node.prototype,\"$childNodes\",{get:function(){var retValues=[];var childNodes=this.childNodes;for(var i=0,iLen=childNodes.length;i<iLen;i++){if(childNodes[i].nodeName==\"#text\")continue;retValues[retValues.length]=childNodes[i];}\nreturn retValues;}});Object.defineProperty(Node.prototype,\"$firstChild\",{get:function(){var childNodes=this.childNodes;for(var i=0,len=childNodes.length;i<len;i++){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});Object.defineProperty(Node.prototype,\"$nextSibling\",{get:function(){var el;if(!this.nextSibling){return null;}else if(this.nextSibling.nodeType==3){el=this.nextSibling.nextSibling;}else{el=this.nextSibling;}\nreturn el;}});Object.defineProperty(Node.prototype,\"$previousSibling\",{get:function(){var el;if(!this.previousSibling){return null;}else if(this.previousSibling.nodeType==3){el=this.previousSibling.previousSibling;}else{el=this.previousSibling;}\nreturn el;}});Object.defineProperty(Node.prototype,\"$lastChild\",{get:function(){var childNodes=this.childNodes;for(var i=childNodes.length-1;i>=0;i--){if(childNodes[i].nodeName==\"#text\")continue;return childNodes[i];}}});",
"lib/classes/lang.json" : {manifest:{"name":"lang","file":"lang.json","version":"2.2","description":"","author":"liu denggao"},entity:{"js.lang.natives.Object":"$package(\"js.lang.natives\");js.lang.natives.Object=Engine.runtimeEnvironment.getNativeClasses(\"Object\");","js.lang.natives.Function":"$package(\"js.lang.natives\");js.lang.natives.Function=Engine.runtimeEnvironment.getNativeClasses(\"Function\");","js.lang.natives.String":"$package(\"js.lang.natives\");js.lang.natives.String=Engine.runtimeEnvironment.getNativeClasses(\"String\");","js.lang.natives.Number":"$package(\"js.lang.natives\");js.lang.natives.Number=Engine.runtimeEnvironment.getNativeClasses(\"Number\");","js.lang.natives.Boolean":"$package(\"js.lang.natives\");js.lang.natives.Boolean=Engine.runtimeEnvironment.getNativeClasses(\"Boolean\");","js.lang.natives.Date":"$package(\"js.lang.natives\");js.lang.natives.Date=Engine.runtimeEnvironment.getNativeClasses(\"Date\");","js.lang.natives.Math":"$package(\"js.lang.natives\");js.lang.natives.Math=Engine.runtimeEnvironment.getNativeClasses(\"Math\");","js.lang.natives.Array":"$package(\"js.lang.natives\");js.lang.natives.Array=Engine.runtimeEnvironment.getNativeClasses(\"Array\");","js.lang.natives.Error":"$package(\"js.lang.natives\");js.lang.natives.Error=Engine.runtimeEnvironment.getNativeClasses(\"Error\");","js.lang.Object":"$package(\"js.lang\");js.lang.Object=Engine.kernel.Object;js.lang.Object.$super=Object;","js.lang.Exception":"$package(\"js.lang\");(js.lang.Exception=function(){Engine.kernel.Exception.apply(this,arguments);}).$extends(Engine.kernel.Exception);","js.lang.String":"$package(\"js.lang\");js.lang.String=Engine.kernel.String;","js.lang.Number":"$package(\"js.lang\");js.lang.Number=Engine.kernel.Number;","js.lang.Date":"$package(\"js.lang\");js.lang.Date=Engine.kernel.Date;"}}
}
});
